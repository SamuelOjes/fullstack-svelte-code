var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function i(t){return t()}function r(){return Object.create(null)}function o(t){t.forEach(i)}function c(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function s(e,...n){if(null==e)return t;const i=e.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function l(t,e,n){t.$$.on_destroy.push(s(e,n))}function u(t,e,n,i){if(t){const r=d(t,e,n,i);return t[0](r)}}function d(t,e,i,r){return t[1]&&r?n(i.ctx.slice(),t[1](r(e))):i.ctx}function g(t,e,n,i,r,o,c){const a=function(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let i=0;i<n;i+=1)t[i]=e.dirty[i]|r[i];return t}return e.dirty|r}return e.dirty}(e,i,r,o);if(a){const r=d(e,n,i,c);t.p(r,a)}}const f="undefined"!=typeof window;let m=f?()=>window.performance.now():()=>Date.now(),h=f?t=>requestAnimationFrame(t):t;const I=new Set;function b(t){I.forEach(e=>{e.c(t)||(I.delete(e),e.f())}),0!==I.size&&h(b)}function p(t,e){t.appendChild(e)}function y(t,e,n){t.insertBefore(e,n||null)}function B(t){t.parentNode.removeChild(t)}function C(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function F(t){return document.createElement(t)}function U(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function v(t){return document.createTextNode(t)}function V(){return v(" ")}function S(){return v("")}function Z(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function w(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function X(t,e){for(const n in e)w(t,n,e[n])}function G(t,e){e=""+e,t.data!==e&&(t.data=e)}function R(t,e){t.value=null==e?"":e}function x(t,e,n,i){t.style.setProperty(e,n,i?"important":"")}function W(t,e,n){t.classList[n?"add":"remove"](e)}const Q=new Set;let A,L=0;function H(t,e){const n=(t.style.animation||"").split(", "),i=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-i.length;r&&(t.style.animation=i.join(", "),L-=r,L||h(()=>{L||(Q.forEach(t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}}),Q.clear())}))}function J(t){A=t}function N(t){(function(){if(!A)throw new Error("Function called outside component initialization");return A})().$$.on_mount.push(t)}const k=[],Y=[],E=[],T=[],K=Promise.resolve();let P=!1;function z(t){E.push(t)}let D=!1;const O=new Set;function M(){if(!D){D=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];J(e),j(e.$$)}for(k.length=0;Y.length;)Y.pop()();for(let t=0;t<E.length;t+=1){const e=E[t];O.has(e)||(O.add(e),e())}E.length=0}while(k.length);for(;T.length;)T.pop()();P=!1,D=!1,O.clear()}}function j(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(z)}}let q;function _(t,e,n){t.dispatchEvent(function(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}(`${e?"intro":"outro"}${n}`))}const $=new Set;let tt;function et(){tt={r:0,c:[],p:tt}}function nt(){tt.r||o(tt.c),tt=tt.p}function it(t,e){t&&t.i&&($.delete(t),t.i(e))}function rt(t,e,n,i){if(t&&t.o){if($.has(t))return;$.add(t),tt.c.push(()=>{$.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}}const ot={duration:0};function ct(n,i,r){let o,a,s=i(n,r),l=!1,u=0;function d(){o&&H(n,o)}function g(){const{delay:i=0,duration:r=300,easing:c=e,tick:g=t,css:f}=s||ot;f&&(o=function(t,e,n,i,r,o,c,a=0){const s=16.666/i;let l="{\n";for(let t=0;t<=1;t+=s){const i=e+(n-e)*o(t);l+=100*t+`%{${c(i,1-i)}}\n`}const u=l+`100% {${c(n,1-n)}}\n}`,d=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,g=t.ownerDocument;Q.add(g);const f=g.__svelte_stylesheet||(g.__svelte_stylesheet=g.head.appendChild(F("style")).sheet),m=g.__svelte_rules||(g.__svelte_rules={});m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?h+", ":""}${d} ${i}ms linear ${r}ms 1 both`,L+=1,d}(n,0,1,r,i,c,f,u++)),g(0,1);const p=m()+i,y=p+r;a&&a.abort(),l=!0,z(()=>_(n,!0,"start")),a=function(t){let e;return 0===I.size&&h(b),{promise:new Promise(n=>{I.add(e={c:t,f:n})}),abort(){I.delete(e)}}}(t=>{if(l){if(t>=y)return g(1,0),_(n,!0,"end"),d(),l=!1;if(t>=p){const e=c((t-p)/r);g(e,1-e)}}return l})}let f=!1;return{start(){f||(H(n),c(s)?(s=s(),(q||(q=Promise.resolve(),q.then(()=>{q=null})),q).then(g)):g())},invalidate(){f=!1},end(){l&&(d(),l=!1)}}}function at(t,e){const n={},i={},r={$$scope:1};let o=t.length;for(;o--;){const c=t[o],a=e[o];if(a){for(const t in c)t in a||(i[t]=1);for(const t in a)r[t]||(n[t]=a[t],r[t]=1);t[o]=a}else for(const t in c)r[t]=1}for(const t in i)t in n||(n[t]=void 0);return n}function st(t){t&&t.c()}function lt(t,e,n){const{fragment:r,on_mount:a,on_destroy:s,after_update:l}=t.$$;r&&r.m(e,n),z(()=>{const e=a.map(i).filter(c);s?s.push(...e):o(e),t.$$.on_mount=[]}),l.forEach(z)}function ut(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function dt(t,e){-1===t.$$.dirty[0]&&(k.push(t),P||(P=!0,K.then(M)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(e,n,i,c,a,s,l=[-1]){const u=A;J(e);const d=n.props||{},g=e.$$={fragment:null,ctx:null,props:s,update:t,not_equal:a,bound:r(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:r(),dirty:l};let f=!1;if(g.ctx=i?i(e,d,(t,n,...i)=>{const r=i.length?i[0]:n;return g.ctx&&a(g.ctx[t],g.ctx[t]=r)&&(g.bound[t]&&g.bound[t](r),f&&dt(e,t)),n}):[],g.update(),f=!0,o(g.before_update),g.fragment=!!c&&c(g.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);g.fragment&&g.fragment.l(t),t.forEach(B)}else g.fragment&&g.fragment.c();n.intro&&it(e.$$.fragment),lt(e,n.target,n.anchor),M()}J(u)}class ft{$destroy(){ut(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(){}}const mt=[];function ht(t,e){return{subscribe:It(t,e).subscribe}}function It(e,n=t){let i;const r=[];function o(t){if(a(e,t)&&(e=t,i)){const t=!mt.length;for(let t=0;t<r.length;t+=1){const n=r[t];n[1](),mt.push(n,e)}if(t){for(let t=0;t<mt.length;t+=2)mt[t][0](mt[t+1]);mt.length=0}}}return{set:o,update:function(t){o(t(e))},subscribe:function(c,a=t){const s=[c,a];return r.push(s),1===r.length&&(i=n(o)||t),c(e),()=>{const t=r.indexOf(s);-1!==t&&r.splice(t,1),0===r.length&&(i(),i=null)}}}}function bt(t){return t&&t.default||t}const pt=(0,bt(Object.freeze({__proto__:null,derived:function(e,n,i){const r=!Array.isArray(e),a=r?[e]:e,l=n.length<2;return ht(i,e=>{let i=!1;const u=[];let d=0,g=t;const f=()=>{if(d)return;g();const i=n(r?u[0]:u,e);l?e(i):g=c(i)?i:t},m=a.map((t,e)=>s(t,t=>{u[e]=t,d&=~(1<<e),i&&f()},()=>{d|=1<<e}));return i=!0,f(),function(){o(m),g()}})},readable:ht,writable:It,get:function(t){let e;return s(t,t=>e=t)(),e}})).writable)({});var yt={activeRoute:{subscribe:pt.subscribe,set:function(t){pt.set(t)},remove:function(){pt.set({})}}},Bt=yt.activeRoute;var Ct={UrlParser:(t,e="")=>{const n=new URL(t);function i(){return o(e).reduce((t,e,n)=>(":"===e[0]&&t.push({value:e.slice(1),index:n}),t),[])}function r(){return o(n.pathname)}function o(t){return"/"===t||0===t.trim().length?[t]:("/"===t.slice(-1)&&(t=t.slice(0,-1)),"/"===t[0]&&(t=t.slice(1)),t.split("/"))}return Object.freeze({host:n.host,hostname:n.hostname,namedParams:function(){const t=r();return i().reduce((e,n)=>(e[n.value]=t[n.index],e),{})}(),namedParamsKeys:i().reduce((t,e)=>(t.push(e.value),t),[]),namedParamsValues:function(){const t=r();return i().reduce((e,n)=>(e.push(t[n.index]),e),[])}(),pathNames:r(),port:n.port,pathname:n.pathname,protocol:n.protocol,search:n.search,queryParams:function(){const t={};return n.searchParams.forEach((e,n)=>{t[n]=e}),t}(),queryParamsKeys:function(){const t=[];return n.searchParams.forEach((e,n)=>{t.push(n)}),t}(),queryParamsValues:function(){const t=[];return n.searchParams.forEach(e=>{t.push(e)}),t}()})}};function Ft(t,e){return(e=Vt(e)).includes(":")?e.includes(t):e.startsWith(t)}function Ut(t,e,n){let i=!1;if(n)return{exists:e.lang&&e.lang[n]&&e.lang[n].includes(t),language:n};if(i=Ft(t,e.name),!i&&e.lang&&"object"==typeof e.lang)for(const[r,o]of Object.entries(e.lang))Ft(t,o)&&(i=!0,n=r);return{exists:i,language:n}}function vt(t){return"/"===t||0===t.trim().length?[t]:(t=Vt(t,"both")).split("/")}function Vt(t,e="lead"){return t.trim().length<1?"":("trail"!==e&&"both"!==e||"/"===t.slice(-1)&&(t=t.slice(0,-1)),"lead"!==e&&"both"!==e||"/"===t[0]&&(t=t.slice(1)),t)}function St(t,e=null){return e&&t.lang&&t.lang[e]?t.lang[e]:t.name}var Zt={anyEmptyNestedRoutes:function t(e){let n=!1;return 0===Object.keys(e).length||(e.childRoute&&0===Object.keys(e.childRoute).length?n=!0:e.childRoute&&(n=t(e.childRoute)),n)},compareRoutes:Ft,findLocalisedRoute:Ut,getNamedParams:function(t=""){return 0===t.trim().length?[]:vt(t).reduce((t,e)=>(":"===e[0]&&t.push(e.slice(1)),t),[])},getPathNames:vt,nameToPath:function(t=""){let e;return"/"===t||0===t.trim().length?t:(e=(t=Vt(t,"lead")).split(":")[0],e=Vt(e,"trail"),e.toLowerCase())},pathWithQueryParams:function(t){let e=[];if(t.queryParams)for(let[n,i]of Object.entries(t.queryParams))e.push(`${n}=${i}`);return e.length>0?`${t.path}?${e.join("&")}`:t.path},pathWithoutQueryParams:function(t){return t.path.split("?")[0]},removeExtraPaths:function(t,e){const n=e.split("/");return n.length>1&&n.forEach((function(e,n){e.length>0&&n>0&&t.shift()})),t},removeSlash:Vt,routeNameLocalised:St,startsWithNamedParam:function(t){return Vt(t).startsWith(":")},updateRoutePath:function(t,e,n,i,r=!1){if("/"===t||0===t.trim().length)return{result:t,language:null};let o=t,c=n.name,a=i;if(r&&(a=""),c=Vt(c),o=Vt(o),n.childRoute)return{result:t,language:a};{let t=Ut(o,n,a);t.exists&&r&&(o=St(n,i));let s=c.split(":")[0];return s=Vt(s,"trail"),s=s.split("/"),s.shift(),s.forEach(()=>{const c=e[0];if(t=Ut(`${o}/${c}`,n,a),!c||!t.exists)return{result:o,language:t.language};o=r?St(n,i):`${o}/${c}`,e.shift()}),{result:o,language:t.language}}}};const{UrlParser:wt}=Ct,{pathWithQueryParams:Xt,removeSlash:Gt}=Zt;var Rt={RouterCurrent:function(t){const e=t||!1;let n="";return Object.freeze({active:function(){return n},isActive:function(t,e=!1){"/"!==t[0]&&(t="/"+t);let i=wt("http://fake.com"+t).pathname,r=wt("http://fake.com"+n).pathname;return i=Gt(i,"trail"),r=Gt(r,"trail"),e?r.includes(i):r===i},setActive:function(t){n=t.path,function(t){if("undefined"!=typeof window){const i=Xt(t);window.history.pushState({page:i},"",i),e&&(n=i,"undefined"!=typeof ga&&(ga("set","page",n),ga("send","pageview")))}var n}(t)}})}};var xt={RouterGuard:function(t){const e=t;return Object.freeze({valid:function(){return e&&e.guard&&"function"==typeof e.guard},redirect:function(){return!e.guard()},redirectPath:function(){let t="/";return e.redirect&&e.redirect.length>0&&(t=e.redirect),t}})}};const{RouterGuard:Wt}=xt;var Qt={RouterRedirect:function(t,e){const n=Wt(t.onlyIf);return Object.freeze({path:function(){let i=e;return t.redirectTo&&t.redirectTo.length>0&&(i=t.redirectTo),n.valid()&&n.redirect()&&(i=n.redirectPath()),i}})}};const{UrlParser:At}=Ct;var Lt={RouterRoute:function({routeInfo:t,path:e,routeNamedParams:n,urlParser:i,namedPath:r,language:o}){function c(){const t=At("https://fake.com"+i.pathname,r).namedParams;return{...n,...t}}return Object.freeze({get:function(){return{name:e,component:t.component,layout:t.layout,queryParams:i.queryParams,namedParams:c(),path:e,language:o}},namedParams:c})}};const{updateRoutePath:Ht,getNamedParams:Jt,nameToPath:Nt,removeExtraPaths:kt,routeNameLocalised:Yt}=Zt;var Et={RouterPath:function({basePath:t,basePathName:e,pathNames:n,convert:i,currentLanguage:r}){let o,c,a=r;function s(){return Yt(c,a)}function l(){return Nt(s())}function u(){return Nt(o.result)}return Object.freeze({basePathSameAsLocalised:function(){return u()===l()},updatedPath:function(t){return c=t,o=Ht(e,n,c,a,i),a=i?r:o.language,o},basePathNameWithoutNamedParams:u,localisedPathName:s,localisedRouteWithoutNamedParams:l,namedPath:function(){const e=s();return t?`${t}/${e}`:e},pathNames:n,routeLanguage:function(){return a},routePath:function(){let e=`${t}/${u()}`;"//"===e&&(e="/"),a&&(n=kt(n,l()));const i=Jt(s());return i&&i.length>0&&i.forEach((function(){n.length>0&&(e+="/"+n.shift())})),e}})}};const{UrlParser:Tt}=Ct,{RouterRedirect:Kt}=Qt,{RouterRoute:Pt}=Lt,{RouterPath:zt}=Et,{anyEmptyNestedRoutes:Dt,pathWithoutQueryParams:Ot,startsWithNamedParam:Mt}=Zt;var jt={RouterFinder:function({routes:t,currentUrl:e,routerOptions:n,convert:i}){const r=n.defaultLanguage,o=Tt(e);let c="",a={},s=!1;return Object.freeze({findActiveRoute:function(){let e=function t(e,n,i,l,u){let d={},g=i.shift().toLowerCase();const f=zt({basePath:n,basePathName:g,pathNames:i,convert:u,currentLanguage:l});s=!1,e.forEach((function(e){if(f.updatedPath(e),function(t,e){const n=t.basePathSameAsLocalised();n&&(s=!0);return n||!s&&Mt(e)}(f,e.name)){let n=f.routePath();if(c=Kt(e,c).path(),d.name!==n&&(d=function({route:t,routePath:e,routeLanguage:n,urlParser:i,namedPath:o}){const c=Pt({routeInfo:t,urlParser:i,path:e,routeNamedParams:a,namedPath:o,language:n||r});return a=c.namedParams(),c.get()}({route:e,routePath:n,routeLanguage:f.routeLanguage(),urlParser:o,namedPath:f.namedPath()})),e.nestedRoutes&&e.nestedRoutes.length>0&&f.pathNames.length>0)d.childRoute=t(e.nestedRoutes,n,f.pathNames,f.routeLanguage(),u),d.path=d.childRoute.path,d.language=d.childRoute.language;else if(function(t,e){return t.nestedRoutes&&t.nestedRoutes.length>0&&0===e.length}(e,f.pathNames)){const i=t(e.nestedRoutes,n,["index"],f.routeLanguage(),u);i&&Object.keys(i).length>0&&(d.childRoute=i,d.language=d.childRoute.language)}}})),c&&(d.redirectTo=c);return d}(t,"",o.pathNames,n.lang,i);return e&&Object.keys(e).length&&!Dt(e)?e.path=Ot(e):"undefined"!=typeof window&&(e=function(e){const n=t.find(t=>"404"==t.name),i=e||r||"";return n?{...n,language:i,path:"404"}:{name:"404",component:"",path:"404",redirectTo:"/404.html"}}(n.lang)),e}})}};const{activeRoute:qt}=yt,{RouterCurrent:_t}=Rt,{RouterFinder:$t}=jt,{removeSlash:te}=Zt;let ee,ne=[],ie={};function re(t,e,n={}){function i(){let n=!1;return ie.langConvertTo&&(ie.lang=ie.langConvertTo,n=!0),$t({routes:t,currentUrl:e,routerOptions:ie,convert:n}).findActiveRoute()}return ie={...n},void 0!==e&&""!==e||(e=document.location.href),ee=_t(ie.gaPageviews),e=te(e,"trail"),ne=t,Object.freeze({setActiveRoute:function(){const t=i();return t.redirectTo?(e=t.redirectTo,"undefined"!=typeof window&&("/404.html"===e?ee.setActive({path:"/404.html"}):oe(e)),e):(ee.setActive(t),qt.set(t),t);var e},findActiveRoute:i})}function oe(t,e=null){return t=te(t,"lead"),e&&(ie.langConvertTo=e),re(ne,"http://fake.com/"+t,ie).setActiveRoute()}"undefined"!=typeof window&&(window.addEventListener("click",t=>{if(t.target.pathname&&t.target.hostname===window.location.hostname&&"a"===t.target.localName){t.preventDefault();let e=t.target.pathname+t.target.search;t.target.hash&&(e+=t.target.hash),oe(t.target.pathname+t.target.search)}}),window.onpopstate=function(t){const e=window.location.pathname+window.location.search;window.location.hash&&(e+=window.location.hash),oe(e)});var ce={SpaRouter:re,localisedRoute:function(t,e){return t=te(t,"lead"),ie.langConvertTo=e,re(ne,"http://fake.com/"+t,ie).findActiveRoute()},navigateTo:oe,routeIsActive:function(t,e=!1){return ee.isActive(t,e)}},ae=ce.SpaRouter,se=ce.localisedRoute,le=ce.navigateTo,ue=ce.routeIsActive;function de(t){let e;const n=new Ie({props:{currentRoute:t[0].childRoute,params:t[1]}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.currentRoute=t[0].childRoute),2&e&&(i.params=t[1]),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function ge(t){let e,n;var i=t[0].component;function r(t){return{props:{currentRoute:{...t[0],component:""},params:t[1]}}}if(i)var o=new i(r(t));return{c(){o&&st(o.$$.fragment),e=S()},m(t,i){o&&lt(o,t,i),y(t,e,i),n=!0},p(t,n){const c={};if(1&n&&(c.currentRoute={...t[0],component:""}),2&n&&(c.params=t[1]),i!==(i=t[0].component)){if(o){et();const t=o;rt(t.$$.fragment,1,0,()=>{ut(t,1)}),nt()}i?(st((o=new i(r(t))).$$.fragment),it(o.$$.fragment,1),lt(o,e.parentNode,e)):o=null}else i&&o.$set(c)},i(t){n||(o&&it(o.$$.fragment,t),n=!0)},o(t){o&&rt(o.$$.fragment,t),n=!1},d(t){t&&B(e),o&&ut(o,t)}}}function fe(t){let e,n;var i=t[0].layout;function r(t){return{props:{currentRoute:{...t[0],layout:""},params:t[1]}}}if(i)var o=new i(r(t));return{c(){o&&st(o.$$.fragment),e=S()},m(t,i){o&&lt(o,t,i),y(t,e,i),n=!0},p(t,n){const c={};if(1&n&&(c.currentRoute={...t[0],layout:""}),2&n&&(c.params=t[1]),i!==(i=t[0].layout)){if(o){et();const t=o;rt(t.$$.fragment,1,0,()=>{ut(t,1)}),nt()}i?(st((o=new i(r(t))).$$.fragment),it(o.$$.fragment,1),lt(o,e.parentNode,e)):o=null}else i&&o.$set(c)},i(t){n||(o&&it(o.$$.fragment,t),n=!0)},o(t){o&&rt(o.$$.fragment,t),n=!1},d(t){t&&B(e),o&&ut(o,t)}}}function me(t){let e,n,i,r;const o=[fe,ge,de],c=[];function a(t,e){return t[0].layout?0:t[0].component?1:t[0].childRoute?2:-1}return~(e=a(t))&&(n=c[e]=o[e](t)),{c(){n&&n.c(),i=S()},m(t,n){~e&&c[e].m(t,n),y(t,i,n),r=!0},p(t,[r]){let s=e;e=a(t),e===s?~e&&c[e].p(t,r):(n&&(et(),rt(c[s],1,1,()=>{c[s]=null}),nt()),~e?(n=c[e],n||(n=c[e]=o[e](t),n.c()),it(n,1),n.m(i.parentNode,i)):n=null)},i(t){r||(it(n),r=!0)},o(t){rt(n),r=!1},d(t){~e&&c[e].d(t),t&&B(i)}}}function he(t,e,n){let{currentRoute:i={}}=e,{params:r={}}=e;return t.$set=t=>{"currentRoute"in t&&n(0,i=t.currentRoute),"params"in t&&n(1,r=t.params)},[i,r]}class Ie extends ft{constructor(t){super(),gt(this,t,he,me,a,{currentRoute:0,params:1})}}var be=Object.freeze({__proto__:null,default:Ie});function pe(t){let e;const n=new Ie({props:{currentRoute:t[0]}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,[e]){const i={};1&e&&(i.currentRoute=t[0]),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function ye(t,e,n){let i;l(t,Bt,t=>n(0,i=t));let{routes:r=[]}=e,{options:o={}}=e;return N((function(){ae(r,document.location.href,o).setActiveRoute()})),t.$set=t=>{"routes"in t&&n(1,r=t.routes),"options"in t&&n(2,o=t.options)},[i,r,o]}var Be=Object.freeze({__proto__:null,default:class extends ft{constructor(t){super(),gt(this,t,ye,pe,a,{routes:1,options:2})}}});function Ce(t){let e,n,i,r;const o=t[6].default,c=u(o,t,t[5],null);return{c(){e=F("a"),c&&c.c(),w(e,"href",t[0]),w(e,"title",t[1]),w(e,"class",t[2]),W(e,"active",ue(t[0]))},m(o,a){y(o,e,a),c&&c.m(e,null),n=!0,i||(r=Z(e,"click",t[3]),i=!0)},p(t,[i]){c&&c.p&&32&i&&g(c,o,t,t[5],i,null,null),(!n||1&i)&&w(e,"href",t[0]),(!n||2&i)&&w(e,"title",t[1]),(!n||4&i)&&w(e,"class",t[2]),5&i&&W(e,"active",ue(t[0]))},i(t){n||(it(c,t),n=!0)},o(t){rt(c,t),n=!1},d(t){t&&B(e),c&&c.d(t),i=!1,r()}}}function Fe(t,e,n){let{to:i="/"}=e,{title:r=""}=e,{styles:o=""}=e,{lang:c=null}=e;N((function(){if(c){const t=se(i,c);t&&n(0,i=t.path)}}));let{$$slots:a={},$$scope:s}=e;return t.$set=t=>{"to"in t&&n(0,i=t.to),"title"in t&&n(1,r=t.title),"styles"in t&&n(2,o=t.styles),"lang"in t&&n(4,c=t.lang),"$$scope"in t&&n(5,s=t.$$scope)},[i,r,o,function(t){t.preventDefault(),t.stopPropagation(),le(i)},c,s,a]}var Ue=Object.freeze({__proto__:null,default:class extends ft{constructor(t){super(),gt(this,t,Fe,Ce,a,{to:0,title:1,styles:2,lang:4})}}}),ve=bt(be),Ve=bt(Be),Se=bt(Ue);const{SpaRouter:Ze,navigateTo:we,localisedRoute:Xe,routeIsActive:Ge}=ce;var Re={SpaRouter:Ze,localisedRoute:Xe,navigateTo:we,routeIsActive:Ge,Route:ve,Router:Ve,Navigate:Se},xe=Re.navigateTo,We=Re.Route,Qe=Re.Router,Ae=Re.Navigate;function Le(t){const e=t-1;return e*e*e+1}function He(t,{delay:e=0,duration:n=400,easing:i=Le,x:r=0,y:o=0,opacity:c=0}){const a=getComputedStyle(t),s=+a.opacity,l="none"===a.transform?"":a.transform,u=s*(1-c);return{delay:e,duration:n,easing:i,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*r}px, ${(1-t)*o}px);\n\t\t\topacity: ${s-u*e}`}}var Je=function(t,e){return function(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];return t.apply(e,n)}},Ne=Object.prototype.toString;function ke(t){return"[object Array]"===Ne.call(t)}function Ye(t){return void 0===t}function Ee(t){return null!==t&&"object"==typeof t}function Te(t){return"[object Function]"===Ne.call(t)}function Ke(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),ke(t))for(var n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}var Pe={isArray:ke,isArrayBuffer:function(t){return"[object ArrayBuffer]"===Ne.call(t)},isBuffer:function(t){return null!==t&&!Ye(t)&&null!==t.constructor&&!Ye(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){return"undefined"!=typeof FormData&&t instanceof FormData},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:Ee,isUndefined:Ye,isDate:function(t){return"[object Date]"===Ne.call(t)},isFile:function(t){return"[object File]"===Ne.call(t)},isBlob:function(t){return"[object Blob]"===Ne.call(t)},isFunction:Te,isStream:function(t){return Ee(t)&&Te(t.pipe)},isURLSearchParams:function(t){return"undefined"!=typeof URLSearchParams&&t instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:Ke,merge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]=n}for(var i=0,r=arguments.length;i<r;i++)Ke(arguments[i],n);return e},deepMerge:function t(){var e={};function n(n,i){"object"==typeof e[i]&&"object"==typeof n?e[i]=t(e[i],n):e[i]="object"==typeof n?t({},n):n}for(var i=0,r=arguments.length;i<r;i++)Ke(arguments[i],n);return e},extend:function(t,e,n){return Ke(e,(function(e,i){t[i]=n&&"function"==typeof e?Je(e,n):e})),t},trim:function(t){return t.replace(/^\s*/,"").replace(/\s*$/,"")}};function ze(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var De=function(t,e,n){if(!e)return t;var i;if(n)i=n(e);else if(Pe.isURLSearchParams(e))i=e.toString();else{var r=[];Pe.forEach(e,(function(t,e){null!=t&&(Pe.isArray(t)?e+="[]":t=[t],Pe.forEach(t,(function(t){Pe.isDate(t)?t=t.toISOString():Pe.isObject(t)&&(t=JSON.stringify(t)),r.push(ze(e)+"="+ze(t))})))})),i=r.join("&")}if(i){var o=t.indexOf("#");-1!==o&&(t=t.slice(0,o)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t};function Oe(){this.handlers=[]}Oe.prototype.use=function(t,e){return this.handlers.push({fulfilled:t,rejected:e}),this.handlers.length-1},Oe.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},Oe.prototype.forEach=function(t){Pe.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var Me=Oe,je=function(t,e,n){return Pe.forEach(n,(function(n){t=n(t,e)})),t},qe=function(t){return!(!t||!t.__CANCEL__)},_e=function(t,e){Pe.forEach(t,(function(n,i){i!==e&&i.toUpperCase()===e.toUpperCase()&&(t[e]=n,delete t[i])}))},$e=function(t,e,n,i,r){return function(t,e,n,i,r){return t.config=e,n&&(t.code=n),t.request=i,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},t}(new Error(t),e,n,i,r)},tn=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],en=Pe.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(t){var i=t;return e&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return t=i(window.location.href),function(e){var n=Pe.isString(e)?i(e):e;return n.protocol===t.protocol&&n.host===t.host}}():function(){return!0},nn=Pe.isStandardBrowserEnv()?{write:function(t,e,n,i,r,o){var c=[];c.push(t+"="+encodeURIComponent(e)),Pe.isNumber(n)&&c.push("expires="+new Date(n).toGMTString()),Pe.isString(i)&&c.push("path="+i),Pe.isString(r)&&c.push("domain="+r),!0===o&&c.push("secure"),document.cookie=c.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},rn=function(t){return new Promise((function(e,n){var i=t.data,r=t.headers;Pe.isFormData(i)&&delete r["Content-Type"];var o=new XMLHttpRequest;if(t.auth){var c=t.auth.username||"",a=t.auth.password||"";r.Authorization="Basic "+btoa(c+":"+a)}var s,l,u=(s=t.baseURL,l=t.url,s&&!/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(l)?function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}(s,l):l);if(o.open(t.method.toUpperCase(),De(u,t.params,t.paramsSerializer),!0),o.timeout=t.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var i="getAllResponseHeaders"in o?function(t){var e,n,i,r={};return t?(Pe.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=Pe.trim(t.substr(0,i)).toLowerCase(),n=Pe.trim(t.substr(i+1)),e){if(r[e]&&tn.indexOf(e)>=0)return;r[e]="set-cookie"===e?(r[e]?r[e]:[]).concat([n]):r[e]?r[e]+", "+n:n}})),r):r}(o.getAllResponseHeaders()):null,r={data:t.responseType&&"text"!==t.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:i,config:t,request:o};!function(t,e,n){var i=n.config.validateStatus;!i||i(n.status)?t(n):e($e("Request failed with status code "+n.status,n.config,null,n.request,n))}(e,n,r),o=null}},o.onabort=function(){o&&(n($e("Request aborted",t,"ECONNABORTED",o)),o=null)},o.onerror=function(){n($e("Network Error",t,null,o)),o=null},o.ontimeout=function(){var e="timeout of "+t.timeout+"ms exceeded";t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),n($e(e,t,"ECONNABORTED",o)),o=null},Pe.isStandardBrowserEnv()){var d=nn,g=(t.withCredentials||en(u))&&t.xsrfCookieName?d.read(t.xsrfCookieName):void 0;g&&(r[t.xsrfHeaderName]=g)}if("setRequestHeader"in o&&Pe.forEach(r,(function(t,e){void 0===i&&"content-type"===e.toLowerCase()?delete r[e]:o.setRequestHeader(e,t)})),Pe.isUndefined(t.withCredentials)||(o.withCredentials=!!t.withCredentials),t.responseType)try{o.responseType=t.responseType}catch(e){if("json"!==t.responseType)throw e}"function"==typeof t.onDownloadProgress&&o.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",t.onUploadProgress),t.cancelToken&&t.cancelToken.promise.then((function(t){o&&(o.abort(),n(t),o=null)})),void 0===i&&(i=null),o.send(i)}))},on={"Content-Type":"application/x-www-form-urlencoded"};function cn(t,e){!Pe.isUndefined(t)&&Pe.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var an,sn={adapter:(("undefined"!=typeof XMLHttpRequest||void 0!=={env:{API_ROOT:""}}&&'[object {"env":{"API_ROOT":""}}]'===Object.prototype.toString.call({env:{API_ROOT:""}}))&&(an=rn),an),transformRequest:[function(t,e){return _e(e,"Accept"),_e(e,"Content-Type"),Pe.isFormData(t)||Pe.isArrayBuffer(t)||Pe.isBuffer(t)||Pe.isStream(t)||Pe.isFile(t)||Pe.isBlob(t)?t:Pe.isArrayBufferView(t)?t.buffer:Pe.isURLSearchParams(t)?(cn(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):Pe.isObject(t)?(cn(e,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if("string"==typeof t)try{t=JSON.parse(t)}catch(t){}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};sn.headers={common:{Accept:"application/json, text/plain, */*"}},Pe.forEach(["delete","get","head"],(function(t){sn.headers[t]={}})),Pe.forEach(["post","put","patch"],(function(t){sn.headers[t]=Pe.merge(on)}));var ln=sn;function un(t){t.cancelToken&&t.cancelToken.throwIfRequested()}var dn=function(t){return un(t),t.headers=t.headers||{},t.data=je(t.data,t.headers,t.transformRequest),t.headers=Pe.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),Pe.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||ln.adapter)(t).then((function(e){return un(t),e.data=je(e.data,e.headers,t.transformResponse),e}),(function(e){return qe(e)||(un(t),e&&e.response&&(e.response.data=je(e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},gn=function(t,e){e=e||{};var n={},i=["url","method","params","data"],r=["headers","auth","proxy"],o=["baseURL","url","transformRequest","transformResponse","paramsSerializer","timeout","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","maxContentLength","validateStatus","maxRedirects","httpAgent","httpsAgent","cancelToken","socketPath"];Pe.forEach(i,(function(t){void 0!==e[t]&&(n[t]=e[t])})),Pe.forEach(r,(function(i){Pe.isObject(e[i])?n[i]=Pe.deepMerge(t[i],e[i]):void 0!==e[i]?n[i]=e[i]:Pe.isObject(t[i])?n[i]=Pe.deepMerge(t[i]):void 0!==t[i]&&(n[i]=t[i])})),Pe.forEach(o,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])}));var c=i.concat(r).concat(o),a=Object.keys(e).filter((function(t){return-1===c.indexOf(t)}));return Pe.forEach(a,(function(i){void 0!==e[i]?n[i]=e[i]:void 0!==t[i]&&(n[i]=t[i])})),n};function fn(t){this.defaults=t,this.interceptors={request:new Me,response:new Me}}fn.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=gn(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=[dn,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach((function(t){e.unshift(t.fulfilled,t.rejected)})),this.interceptors.response.forEach((function(t){e.push(t.fulfilled,t.rejected)}));e.length;)n=n.then(e.shift(),e.shift());return n},fn.prototype.getUri=function(t){return t=gn(this.defaults,t),De(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},Pe.forEach(["delete","get","head","options"],(function(t){fn.prototype[t]=function(e,n){return this.request(Pe.merge(n||{},{method:t,url:e}))}})),Pe.forEach(["post","put","patch"],(function(t){fn.prototype[t]=function(e,n,i){return this.request(Pe.merge(i||{},{method:t,url:e,data:n}))}}));var mn=fn;function hn(t){this.message=t}hn.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},hn.prototype.__CANCEL__=!0;var In=hn;function bn(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var n=this;t((function(t){n.reason||(n.reason=new In(t),e(n.reason))}))}bn.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},bn.source=function(){var t;return{token:new bn((function(e){t=e})),cancel:t}};var pn=bn;function yn(t){var e=new mn(t),n=Je(mn.prototype.request,e);return Pe.extend(n,mn.prototype,e),Pe.extend(n,e),n}var Bn=yn(ln);Bn.Axios=mn,Bn.create=function(t){return yn(gn(Bn.defaults,t))},Bn.Cancel=In,Bn.CancelToken=pn,Bn.isCancel=qe,Bn.all=function(t){return Promise.all(t)},Bn.spread=function(t){return function(e){return t.apply(null,e)}};var Cn=Bn,Fn=Bn;Cn.default=Fn;var Un=Cn;function vn(e){let i,r=[{key:"path-"+e[0]},e[1]],o={};for(let t=0;t<r.length;t+=1)o=n(o,r[t]);return{c(){i=U("path"),X(i,o)},m(t,e){y(t,i,e)},p(t,[e]){X(i,o=at(r,[1&e&&{key:"path-"+t[0]},2&e&&t[1]]))},i:t,o:t,d(t){t&&B(i)}}}function Vn(t,e,n){let{id:i=""}=e,{data:r={}}=e;return t.$set=t=>{"id"in t&&n(0,i=t.id),"data"in t&&n(1,r=t.data)},[i,r]}class Sn extends ft{constructor(t){super(),gt(this,t,Vn,vn,a,{id:0,data:1})}}function Zn(e){let i,r=[{key:"polygon-"+e[0]},e[1]],o={};for(let t=0;t<r.length;t+=1)o=n(o,r[t]);return{c(){i=U("polygon"),X(i,o)},m(t,e){y(t,i,e)},p(t,[e]){X(i,o=at(r,[1&e&&{key:"polygon-"+t[0]},2&e&&t[1]]))},i:t,o:t,d(t){t&&B(i)}}}function wn(t,e,n){let{id:i=""}=e,{data:r={}}=e;return t.$set=t=>{"id"in t&&n(0,i=t.id),"data"in t&&n(1,r=t.data)},[i,r]}class Xn extends ft{constructor(t){super(),gt(this,t,wn,Zn,a,{id:0,data:1})}}function Gn(e){let n;return{c(){n=U("g")},m(t,i){y(t,n,i),n.innerHTML=e[0]},p(t,[e]){1&e&&(n.innerHTML=t[0])},i:t,o:t,d(t){t&&B(n)}}}function Rn(t,e,n){let i,r=870711;let{data:o}=e;function c(t){if(!t||!t.raw)return null;let e=t.raw;const n={};return e=e.replace(/\s(?:xml:)?id=["']?([^"')\s]+)/g,(t,e)=>{const i=(r+=1,"fa-"+r.toString(16));return n[e]=i,` id="${i}"`}),e=e.replace(/#(?:([^'")\s]+)|xpointer\(id\((['"]?)([^')]+)\2\)\))/g,(t,e,i,r)=>{const o=e||r;return o&&n[o]?"#"+n[o]:t}),e}return t.$set=t=>{"data"in t&&n(1,o=t.data)},t.$$.update=()=>{2&t.$$.dirty&&n(0,i=c(o))},[i,o]}class xn extends ft{constructor(t){super(),gt(this,t,Rn,Gn,a,{data:1})}}function Wn(t){let e,n,i,r;const o=t[13].default,c=u(o,t,t[12],null);return{c(){e=U("svg"),c&&c.c(),w(e,"version","1.1"),w(e,"class",n="fa-icon "+t[0]+" svelte-1dof0an"),w(e,"x",t[8]),w(e,"y",t[9]),w(e,"width",t[1]),w(e,"height",t[2]),w(e,"aria-label",t[11]),w(e,"role",i=t[11]?"img":"presentation"),w(e,"viewBox",t[3]),w(e,"style",t[10]),W(e,"fa-spin",t[4]),W(e,"fa-pulse",t[6]),W(e,"fa-inverse",t[5]),W(e,"fa-flip-horizontal","horizontal"===t[7]),W(e,"fa-flip-vertical","vertical"===t[7])},m(t,n){y(t,e,n),c&&c.m(e,null),r=!0},p(t,[a]){c&&c.p&&4096&a&&g(c,o,t,t[12],a,null,null),(!r||1&a&&n!==(n="fa-icon "+t[0]+" svelte-1dof0an"))&&w(e,"class",n),(!r||256&a)&&w(e,"x",t[8]),(!r||512&a)&&w(e,"y",t[9]),(!r||2&a)&&w(e,"width",t[1]),(!r||4&a)&&w(e,"height",t[2]),(!r||2048&a)&&w(e,"aria-label",t[11]),(!r||2048&a&&i!==(i=t[11]?"img":"presentation"))&&w(e,"role",i),(!r||8&a)&&w(e,"viewBox",t[3]),(!r||1024&a)&&w(e,"style",t[10]),17&a&&W(e,"fa-spin",t[4]),65&a&&W(e,"fa-pulse",t[6]),33&a&&W(e,"fa-inverse",t[5]),129&a&&W(e,"fa-flip-horizontal","horizontal"===t[7]),129&a&&W(e,"fa-flip-vertical","vertical"===t[7])},i(t){r||(it(c,t),r=!0)},o(t){rt(c,t),r=!1},d(t){t&&B(e),c&&c.d(t)}}}function Qn(t,e,n){let{class:i}=e,{width:r}=e,{height:o}=e,{box:c}=e,{spin:a=!1}=e,{inverse:s=!1}=e,{pulse:l=!1}=e,{flip:u=null}=e,{x:d}=e,{y:g}=e,{style:f}=e,{label:m}=e,{$$slots:h={},$$scope:I}=e;return t.$set=t=>{"class"in t&&n(0,i=t.class),"width"in t&&n(1,r=t.width),"height"in t&&n(2,o=t.height),"box"in t&&n(3,c=t.box),"spin"in t&&n(4,a=t.spin),"inverse"in t&&n(5,s=t.inverse),"pulse"in t&&n(6,l=t.pulse),"flip"in t&&n(7,u=t.flip),"x"in t&&n(8,d=t.x),"y"in t&&n(9,g=t.y),"style"in t&&n(10,f=t.style),"label"in t&&n(11,m=t.label),"$$scope"in t&&n(12,I=t.$$scope)},[i,r,o,c,a,s,l,u,d,g,f,m,I,h]}class An extends ft{constructor(t){super(),gt(this,t,Qn,Wn,a,{class:0,width:1,height:2,box:3,spin:4,inverse:5,pulse:6,flip:7,x:8,y:9,style:10,label:11})}}function Ln(t,e,n){const i=t.slice();return i[24]=e[n],i[26]=n,i}function Hn(t,e,n){const i=t.slice();return i[27]=e[n],i[26]=n,i}function Jn(t){let e,n,i,r,o=t[0].paths&&Nn(t),c=t[0].polygons&&Yn(t),a=t[0].raw&&Tn(t);return{c(){o&&o.c(),e=V(),c&&c.c(),n=V(),a&&a.c(),i=S()},m(t,s){o&&o.m(t,s),y(t,e,s),c&&c.m(t,s),y(t,n,s),a&&a.m(t,s),y(t,i,s),r=!0},p(t,r){t[0].paths?o?(o.p(t,r),1&r&&it(o,1)):(o=Nn(t),o.c(),it(o,1),o.m(e.parentNode,e)):o&&(et(),rt(o,1,1,()=>{o=null}),nt()),t[0].polygons?c?(c.p(t,r),1&r&&it(c,1)):(c=Yn(t),c.c(),it(c,1),c.m(n.parentNode,n)):c&&(et(),rt(c,1,1,()=>{c=null}),nt()),t[0].raw?a?(a.p(t,r),1&r&&it(a,1)):(a=Tn(t),a.c(),it(a,1),a.m(i.parentNode,i)):a&&(et(),rt(a,1,1,()=>{a=null}),nt())},i(t){r||(it(o),it(c),it(a),r=!0)},o(t){rt(o),rt(c),rt(a),r=!1},d(t){o&&o.d(t),t&&B(e),c&&c.d(t),t&&B(n),a&&a.d(t),t&&B(i)}}}function Nn(t){let e,n,i=t[0].paths,r=[];for(let e=0;e<i.length;e+=1)r[e]=kn(Hn(t,i,e));const o=t=>rt(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);y(t,e,i),n=!0},p(t,n){if(1&n){let c;for(i=t[0].paths,c=0;c<i.length;c+=1){const o=Hn(t,i,c);r[c]?(r[c].p(o,n),it(r[c],1)):(r[c]=kn(o),r[c].c(),it(r[c],1),r[c].m(e.parentNode,e))}for(et(),c=i.length;c<r.length;c+=1)o(c);nt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)it(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)rt(r[t]);n=!1},d(t){C(r,t),t&&B(e)}}}function kn(t){let e;const n=new Sn({props:{id:t[26],data:t[27]}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.data=t[27]),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function Yn(t){let e,n,i=t[0].polygons,r=[];for(let e=0;e<i.length;e+=1)r[e]=En(Ln(t,i,e));const o=t=>rt(r[t],1,1,()=>{r[t]=null});return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=S()},m(t,i){for(let e=0;e<r.length;e+=1)r[e].m(t,i);y(t,e,i),n=!0},p(t,n){if(1&n){let c;for(i=t[0].polygons,c=0;c<i.length;c+=1){const o=Ln(t,i,c);r[c]?(r[c].p(o,n),it(r[c],1)):(r[c]=En(o),r[c].c(),it(r[c],1),r[c].m(e.parentNode,e))}for(et(),c=i.length;c<r.length;c+=1)o(c);nt()}},i(t){if(!n){for(let t=0;t<i.length;t+=1)it(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)rt(r[t]);n=!1},d(t){C(r,t),t&&B(e)}}}function En(t){let e;const n=new Xn({props:{id:t[26],data:t[24]}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,e){const i={};1&e&&(i.data=t[24]),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function Tn(t){let e,n;function i(e){t[15].call(null,e)}let r={};void 0!==t[0]&&(r.data=t[0]);const o=new xn({props:r});return Y.push(()=>function(t,e,n){const i=t.$$.props[e];void 0!==i&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}(o,"data",i)),{c(){st(o.$$.fragment)},m(t,e){lt(o,t,e),n=!0},p(t,n){const i={};!e&&1&n&&(e=!0,i.data=t[0],function(t){T.push(t)}(()=>e=!1)),o.$set(i)},i(t){n||(it(o.$$.fragment,t),n=!0)},o(t){rt(o.$$.fragment,t),n=!1},d(t){ut(o,t)}}}function Kn(t){let e;const n=t[14].default,i=u(n,t,t[16],null),r=i||function(t){let e,n,i=t[0]&&Jn(t);return{c(){i&&i.c(),e=S()},m(t,r){i&&i.m(t,r),y(t,e,r),n=!0},p(t,n){t[0]?i?(i.p(t,n),1&n&&it(i,1)):(i=Jn(t),i.c(),it(i,1),i.m(e.parentNode,e)):i&&(et(),rt(i,1,1,()=>{i=null}),nt())},i(t){n||(it(i),n=!0)},o(t){rt(i),n=!1},d(t){i&&i.d(t),t&&B(e)}}}(t);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){i?i.p&&65536&e&&g(i,n,t,t[16],e,null,null):r&&r.p&&1&e&&r.p(t,e)},i(t){e||(it(r,t),e=!0)},o(t){rt(r,t),e=!1},d(t){r&&r.d(t)}}}function Pn(t){let e;const n=new An({props:{label:t[6],width:t[7],height:t[8],box:t[10],style:t[9],spin:t[2],flip:t[5],inverse:t[3],pulse:t[4],class:t[1],$$slots:{default:[Kn]},$$scope:{ctx:t}}});return{c(){st(n.$$.fragment)},m(t,i){lt(n,t,i),e=!0},p(t,[e]){const i={};64&e&&(i.label=t[6]),128&e&&(i.width=t[7]),256&e&&(i.height=t[8]),1024&e&&(i.box=t[10]),512&e&&(i.style=t[9]),4&e&&(i.spin=t[2]),32&e&&(i.flip=t[5]),8&e&&(i.inverse=t[3]),16&e&&(i.pulse=t[4]),2&e&&(i.class=t[1]),65537&e&&(i.$$scope={dirty:e,ctx:t}),n.$set(i)},i(t){e||(it(n.$$.fragment,t),e=!0)},o(t){rt(n.$$.fragment,t),e=!1},d(t){ut(n,t)}}}function zn(t,e,n){let i,r,o,c,{class:a=""}=e,{data:s}=e,{scale:l=1}=e,{spin:u=!1}=e,{inverse:d=!1}=e,{pulse:g=!1}=e,{flip:f=null}=e,{label:m=null}=e,{self:h=null}=e,{style:I=null}=e;function b(){let t=1;return void 0!==l&&(t=Number(l)),isNaN(t)||t<=0?(console.warn('Invalid prop: prop "scale" should be a number over 0.'),1):1*t}function p(){return h?Math.max(h.width,h.height)/16:1}let{$$slots:y={},$$scope:B}=e;return t.$set=t=>{"class"in t&&n(1,a=t.class),"data"in t&&n(11,s=t.data),"scale"in t&&n(12,l=t.scale),"spin"in t&&n(2,u=t.spin),"inverse"in t&&n(3,d=t.inverse),"pulse"in t&&n(4,g=t.pulse),"flip"in t&&n(5,f=t.flip),"label"in t&&n(6,m=t.label),"self"in t&&n(0,h=t.self),"style"in t&&n(13,I=t.style),"$$scope"in t&&n(16,B=t.$$scope)},t.$$.update=()=>{14336&t.$$.dirty&&(!function(){if(void 0===s)return;const t=function(t){if("iconName"in t&&"icon"in t){let e={},n=t.icon,i=t.iconName,r={width:n[0],height:n[1],paths:[{d:n[4]}]};return e[i]=r,e}return t}(s),[e]=Object.keys(t),i=t[e];i.paths||(i.paths=[]),i.d&&i.paths.push({d:i.d}),i.polygons||(i.polygons=[]),i.points&&i.polygons.push({points:i.points}),n(0,h=i)}(),n(7,i=h?h.width/p()*b():0),n(8,r=h?h.height/p()*b():0),n(9,o=function(){let t="";null!==I&&(t+=I);let e=b();return 1===e?t:(""===t||t.endsWith(";")||(t+="; "),`${t}font-size: ${e}em`)}()),n(10,c=h?`0 0 ${h.width} ${h.height}`:`0 0 ${i} ${r}`))},[h,a,u,d,g,f,m,i,r,o,c,s,l,I,y,function(t){h=t,n(0,h)},B]}class Dn extends ft{constructor(t){super(),gt(this,t,zn,Pn,a,{class:1,data:11,scale:12,spin:2,inverse:3,pulse:4,flip:5,label:6,self:0,style:13})}}var On={times:{width:1408,height:1792,paths:[{d:"M1298 1322q0 40-28 68l-136 136q-28 28-68 28t-68-28l-294-294-294 294q-28 28-68 28t-68-28l-136-136q-28-28-28-68t28-68l294-294-294-294q-28-28-28-68t28-68l136-136q28-28 68-28t68 28l294 294 294-294q28-28 68-28t68 28l136 136q28 28 28 68t-28 68l-294 294 294 294q28 28 28 68z"}]}},Mn={refresh:{width:1536,height:1792,paths:[{d:"M1511 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zM1536 256v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"}]}};function jn(t){let e,n,i,r,c,a,s,l,u,d,g,f,m,h,I,b,C,U,v,S,X,G,x,W,Q=t[2]&&_n(t),A=t[5]&&$n(),L=t[3]&&ti(t),H=t[4]&&ei(t);return{c(){e=F("div"),n=F("div"),i=F("label"),i.textContent="Password",r=V(),c=F("div"),a=F("input"),s=V(),l=F("div"),u=F("label"),u.textContent="Confirm Password",d=V(),g=F("div"),f=F("input"),m=V(),Q&&Q.c(),h=V(),A&&A.c(),I=V(),L&&L.c(),b=V(),H&&H.c(),C=V(),U=F("div"),v=F("div"),S=F("button"),S.textContent="Submit",w(i,"class","label"),w(a,"type","password"),w(a,"placeholder","Enter your password"),w(a,"class","input"),w(c,"class","control"),w(n,"class","field"),w(u,"class","label"),w(f,"type","password"),w(f,"placeholder","Confirm your password"),w(f,"class","input"),w(g,"class","control"),w(l,"class","field"),w(S,"class","button is-link is-outlined"),w(v,"class","control"),w(U,"class","field is-grouped"),w(e,"id","passwordBlock")},m(o,B){y(o,e,B),p(e,n),p(n,i),p(n,r),p(n,c),p(c,a),R(a,t[6].password),p(e,s),p(e,l),p(l,u),p(l,d),p(l,g),p(g,f),R(f,t[6].passwordConfirm),p(l,m),Q&&Q.m(l,null),p(e,h),A&&A.m(e,null),p(e,I),L&&L.m(e,null),p(e,b),H&&H.m(e,null),p(e,C),p(e,U),p(U,v),p(v,S),G=!0,x||(W=[Z(a,"input",t[12]),Z(f,"input",t[13]),Z(S,"click",t[8])],x=!0)},p(t,n){64&n&&a.value!==t[6].password&&R(a,t[6].password),64&n&&f.value!==t[6].passwordConfirm&&R(f,t[6].passwordConfirm),t[2]?Q?Q.p(t,n):(Q=_n(t),Q.c(),Q.m(l,null)):Q&&(Q.d(1),Q=null),t[5]?A?(A.p(t,n),32&n&&it(A,1)):(A=$n(),A.c(),it(A,1),A.m(e,I)):A&&(et(),rt(A,1,1,()=>{A=null}),nt()),t[3]?L?L.p(t,n):(L=ti(t),L.c(),L.m(e,b)):L&&(L.d(1),L=null),t[4]?H?H.p(t,n):(H=ei(t),H.c(),H.m(e,C)):H&&(H.d(1),H=null)},i(t){G||(it(A),X||z(()=>{X=ct(e,He,{x:400,duration:1e3}),X.start()}),G=!0)},o(t){rt(A),G=!1},d(t){t&&B(e),Q&&Q.d(),A&&A.d(),L&&L.d(),H&&H.d(),x=!1,o(W)}}}function qn(e){let n,i,r,c,a,s,l,u,d,g,f,m,h,I,b,C,U,v,S=e[1]&&ni(e);return{c(){n=F("div"),i=F("label"),i.textContent="Email Address",r=V(),c=F("div"),a=F("input"),s=V(),S&&S.c(),l=V(),u=F("div"),d=F("label"),d.textContent="School Name",g=V(),f=F("div"),m=F("input"),h=V(),I=F("div"),b=F("div"),C=F("button"),C.textContent="Next",w(i,"class","label"),w(a,"type","text"),w(a,"placeholder","Enter your email address"),w(a,"class","input"),w(c,"class","control"),w(n,"class","field"),w(d,"class","label"),w(m,"type","text"),w(m,"placeholder","Enter your school's name"),w(m,"class","input"),w(f,"class","control"),w(u,"class","field"),w(C,"class","button is-link is-outlined"),w(b,"class","control"),w(I,"class","field is-grouped")},m(t,o){y(t,n,o),p(n,i),p(n,r),p(n,c),p(c,a),R(a,e[6].email),p(n,s),S&&S.m(n,null),y(t,l,o),y(t,u,o),p(u,d),p(u,g),p(u,f),p(f,m),R(m,e[6].schoolName),y(t,h,o),y(t,I,o),p(I,b),p(b,C),U||(v=[Z(a,"input",e[9]),Z(m,"input",e[10]),Z(C,"click",e[11])],U=!0)},p(t,e){64&e&&a.value!==t[6].email&&R(a,t[6].email),t[1]?S?S.p(t,e):(S=ni(t),S.c(),S.m(n,null)):S&&(S.d(1),S=null),64&e&&m.value!==t[6].schoolName&&R(m,t[6].schoolName)},i:t,o:t,d(t){t&&B(n),S&&S.d(),t&&B(l),t&&B(u),t&&B(h),t&&B(I),U=!1,o(v)}}}function _n(t){let e,n;return{c(){e=F("p"),n=v(t[2]),w(e,"class","help is-danger")},m(t,i){y(t,e,i),p(e,n)},p(t,e){4&e&&G(n,t[2])},d(t){t&&B(e)}}}function $n(e){let n;const i=new Dn({props:{spin:!0,data:Mn,scale:"3"}});return{c(){st(i.$$.fragment)},m(t,e){lt(i,t,e),n=!0},p:t,i(t){n||(it(i.$$.fragment,t),n=!0)},o(t){rt(i.$$.fragment,t),n=!1},d(t){ut(i,t)}}}function ti(t){let e,n;return{c(){e=F("div"),n=v(t[3]),w(e,"class","notification is-warning")},m(t,i){y(t,e,i),p(e,n)},p(t,e){8&e&&G(n,t[3])},d(t){t&&B(e)}}}function ei(t){let e,n;return{c(){e=F("div"),n=v(t[4]),w(e,"class","notification is-info")},m(t,i){y(t,e,i),p(e,n)},p(t,e){16&e&&G(n,t[4])},d(t){t&&B(e)}}}function ni(t){let e,n;return{c(){e=F("p"),n=v(t[1]),w(e,"class","help is-danger")},m(t,i){y(t,e,i),p(e,n)},p(t,e){2&e&&G(n,t[1])},d(t){t&&B(e)}}}function ii(t){let e;return{c(){e=F("button"),e.textContent="Log in",w(e,"class","button is-small is-text")},m(t,n){y(t,e,n)},d(t){t&&B(e)}}}function ri(t){let e,n,i,r,o,c,a,s,l,u,d,g,f,m,h,I,b;const C=[qn,jn],U=[];function v(t,e){return 1===t[0]?0:2===t[0]?1:-1}~(l=v(t))&&(u=U[l]=C[l](t));const S=new Ae({props:{to:"/admin/manage-menus",$$slots:{default:[ii]},$$scope:{ctx:t}}});return{c(){e=F("div"),n=F("div"),i=F("div"),i.innerHTML='<div class="content"><h1>Easily Publish Your School Lunch Menus</h1> \n        <p>We make it easy to publish weekly school lunch menus on the web and provide them to students and parents in a mobile friendly format.</p> \n        <p>Just set the details and hit publish! Register and get started today.</p></div>',r=V(),o=F("div"),c=F("div"),a=F("h3"),a.textContent="Register Now",s=V(),u&&u.c(),d=V(),g=F("div"),f=F("div"),m=F("center"),h=F("span"),h.textContent="Already registered?",I=V(),st(S.$$.fragment),w(i,"class","column"),w(c,"class","content"),w(o,"class","column"),w(n,"class","columns"),w(e,"class","notification"),w(f,"class","content"),x(f,"line-height","30px"),w(g,"class","container")},m(t,u){y(t,e,u),p(e,n),p(n,i),p(n,r),p(n,o),p(o,c),p(c,a),p(c,s),~l&&U[l].m(c,null),y(t,d,u),y(t,g,u),p(g,f),p(f,m),p(m,h),p(m,I),lt(S,m,null),b=!0},p(t,[e]){let n=l;l=v(t),l===n?~l&&U[l].p(t,e):(u&&(et(),rt(U[n],1,1,()=>{U[n]=null}),nt()),~l?(u=U[l],u||(u=U[l]=C[l](t),u.c()),it(u,1),u.m(c,null)):u=null);const i={};65536&e&&(i.$$scope={dirty:e,ctx:t}),S.$set(i)},i(t){b||(it(u),it(S.$$.fragment,t),b=!0)},o(t){rt(u),rt(S.$$.fragment,t),b=!1},d(t){t&&B(e),~l&&U[l].d(),t&&B(d),t&&B(g),ut(S)}}}function oi(t,e,n){let i,r,o,c,a=1,s=!1,l={email:null,schoolName:null,password:null,passwordConfirm:null};const u=()=>{n(1,i=null);const{valid:t,message:e}=l.email.match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?{valid:!0}:{valid:!1,message:"Email address is invalid"};t?n(0,a=2):n(1,i=e)};return[a,i,r,o,c,s,l,u,async()=>{n(2,r=null);const{valid:t,message:e}=l.password.match(/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{8,15}$/)?l.password!==l.passwordConfirm?{valid:!1,message:"Passwords do not match"}:{valid:!0}:{valid:!1,message:"Password must be 8 characters in length and contain a combination of upper case letters, lower case letters and numbers or special characters"};if(t)try{n(5,s=!0),await Un.post("/api/users",l),n(5,s=!1),n(4,c="Thank you for registering, redirecting to login..."),await new Promise(t=>setTimeout(t,1800)),window.history.replaceState(null,null,"/admin/manage-menus"),window.location.reload()}catch(t){n(5,s=!1),n(3,o=t.response.data.message)}else n(2,r=e)},function(){l.email=this.value,n(6,l)},function(){l.schoolName=this.value,n(6,l)},()=>u(),function(){l.password=this.value,n(6,l)},function(){l.passwordConfirm=this.value,n(6,l)}]}function ci(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ai(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function si(t){ai(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"==typeof t&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function li(t,e){ai(2,arguments);var n=si(t),i=ci(e);return isNaN(i)?new Date(NaN):i?(n.setDate(n.getDate()+i),n):n}function ui(t,e){ai(2,arguments);var n=si(t),i=ci(e);if(isNaN(i))return new Date(NaN);if(!i)return n;var r=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+i+1,0);var c=o.getDate();return r>=c?o:(n.setFullYear(o.getFullYear(),o.getMonth(),r),n)}function di(t,e){if(ai(2,arguments),!e||"object"!=typeof e)return new Date(NaN);var n="years"in e?ci(e.years):0,i="months"in e?ci(e.months):0,r="weeks"in e?ci(e.weeks):0,o="days"in e?ci(e.days):0,c="hours"in e?ci(e.hours):0,a="minutes"in e?ci(e.minutes):0,s="seconds"in e?ci(e.seconds):0,l=si(t),u=i||n?ui(l,i+12*n):l,d=o||r?li(u,o+7*r):u,g=a+60*c,f=s+60*g,m=1e3*f,h=new Date(d.getTime()+m);return h}function gi(t,e){ai(2,arguments);var n=si(t).getTime(),i=ci(e);return new Date(n+i)}function fi(t){return t.getTime()%6e4}function mi(t){var e=new Date(t.getTime()),n=Math.ceil(e.getTimezoneOffset());return e.setSeconds(0,0),6e4*n+(n>0?(6e4+fi(e))%6e4:fi(e))}function hi(t){ai(1,arguments);var e=si(t);return!isNaN(e)}var Ii={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function bi(t){return function(e){var n=e||{},i=n.width?String(n.width):t.defaultWidth;return t.formats[i]||t.formats[t.defaultWidth]}}var pi={date:bi({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:bi({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:bi({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},yi={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Bi(t){return function(e,n){var i,r=n||{};if("formatting"===(r.context?String(r.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,c=r.width?String(r.width):o;i=t.formattingValues[c]||t.formattingValues[o]}else{var a=t.defaultWidth,s=r.width?String(r.width):t.defaultWidth;i=t.values[s]||t.values[a]}return i[t.argumentCallback?t.argumentCallback(e):e]}}function Ci(t){return function(e,n){var i=String(e),r=n||{},o=r.width,c=o&&t.matchPatterns[o]||t.matchPatterns[t.defaultMatchWidth],a=i.match(c);if(!a)return null;var s,l=a[0],u=o&&t.parsePatterns[o]||t.parsePatterns[t.defaultParseWidth];return s="[object Array]"===Object.prototype.toString.call(u)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n}(u,(function(t){return t.test(l)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n}(u,(function(t){return t.test(l)})),s=t.valueCallback?t.valueCallback(s):s,{value:s=r.valueCallback?r.valueCallback(s):s,rest:i.slice(l.length)}}}var Fi,Ui={code:"en-US",formatDistance:function(t,e,n){var i;return n=n||{},i="string"==typeof Ii[t]?Ii[t]:1===e?Ii[t].one:Ii[t].other.replace("{{count}}",e),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:pi,formatRelative:function(t,e,n,i){return yi[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),i=n%100;if(i>20||i<10)switch(i%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Bi({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Bi({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:Bi({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Bi({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Bi({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Fi={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t,e){var n=String(t),i=e||{},r=n.match(Fi.matchPattern);if(!r)return null;var o=r[0],c=n.match(Fi.parsePattern);if(!c)return null;var a=Fi.valueCallback?Fi.valueCallback(c[0]):c[0];return{value:a=i.valueCallback?i.valueCallback(a):a,rest:n.slice(o.length)}}),era:Ci({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Ci({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Ci({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Ci({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Ci({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};function vi(t,e){ai(2,arguments);var n=ci(e);return gi(t,-n)}function Vi(t,e){for(var n=t<0?"-":"",i=Math.abs(t).toString();i.length<e;)i="0"+i;return n+i}var Si=function(t,e){var n=t.getUTCFullYear(),i=n>0?n:1-n;return Vi("yy"===e?i%100:i,e.length)},Zi=function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):Vi(n+1,2)},wi=function(t,e){return Vi(t.getUTCDate(),e.length)},Xi=function(t,e){return Vi(t.getUTCHours()%12||12,e.length)},Gi=function(t,e){return Vi(t.getUTCHours(),e.length)},Ri=function(t,e){return Vi(t.getUTCMinutes(),e.length)},xi=function(t,e){return Vi(t.getUTCSeconds(),e.length)},Wi=function(t,e){var n=e.length,i=t.getUTCMilliseconds();return Vi(Math.floor(i*Math.pow(10,n-3)),e.length)};function Qi(t){ai(1,arguments);var e=1,n=si(t),i=n.getUTCDay(),r=(i<e?7:0)+i-e;return n.setUTCDate(n.getUTCDate()-r),n.setUTCHours(0,0,0,0),n}function Ai(t){ai(1,arguments);var e=si(t),n=e.getUTCFullYear(),i=new Date(0);i.setUTCFullYear(n+1,0,4),i.setUTCHours(0,0,0,0);var r=Qi(i),o=new Date(0);o.setUTCFullYear(n,0,4),o.setUTCHours(0,0,0,0);var c=Qi(o);return e.getTime()>=r.getTime()?n+1:e.getTime()>=c.getTime()?n:n-1}function Li(t){ai(1,arguments);var e=Ai(t),n=new Date(0);n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0);var i=Qi(n);return i}function Hi(t,e){ai(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.weekStartsOn,o=null==r?0:ci(r),c=null==n.weekStartsOn?o:ci(n.weekStartsOn);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=si(t),s=a.getUTCDay(),l=(s<c?7:0)+s-c;return a.setUTCDate(a.getUTCDate()-l),a.setUTCHours(0,0,0,0),a}function Ji(t,e){ai(1,arguments);var n=si(t,e),i=n.getUTCFullYear(),r=e||{},o=r.locale,c=o&&o.options&&o.options.firstWeekContainsDate,a=null==c?1:ci(c),s=null==r.firstWeekContainsDate?a:ci(r.firstWeekContainsDate);if(!(s>=1&&s<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=new Date(0);l.setUTCFullYear(i+1,0,s),l.setUTCHours(0,0,0,0);var u=Hi(l,e),d=new Date(0);d.setUTCFullYear(i,0,s),d.setUTCHours(0,0,0,0);var g=Hi(d,e);return n.getTime()>=u.getTime()?i+1:n.getTime()>=g.getTime()?i:i-1}function Ni(t,e){ai(1,arguments);var n=e||{},i=n.locale,r=i&&i.options&&i.options.firstWeekContainsDate,o=null==r?1:ci(r),c=null==n.firstWeekContainsDate?o:ci(n.firstWeekContainsDate),a=Ji(t,e),s=new Date(0);s.setUTCFullYear(a,0,c),s.setUTCHours(0,0,0,0);var l=Hi(s,e);return l}var ki="midnight",Yi="noon",Ei="morning",Ti="afternoon",Ki="evening",Pi="night",zi={G:function(t,e,n){var i=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(i,{width:"abbreviated"});case"GGGGG":return n.era(i,{width:"narrow"});case"GGGG":default:return n.era(i,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var i=t.getUTCFullYear(),r=i>0?i:1-i;return n.ordinalNumber(r,{unit:"year"})}return Si(t,e)},Y:function(t,e,n,i){var r=Ji(t,i),o=r>0?r:1-r;return"YY"===e?Vi(o%100,2):"Yo"===e?n.ordinalNumber(o,{unit:"year"}):Vi(o,e.length)},R:function(t,e){return Vi(Ai(t),e.length)},u:function(t,e){return Vi(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return Vi(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(t,e,n){var i=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return Vi(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(t,e,n){var i=t.getUTCMonth();switch(e){case"M":case"MM":return Zi(t,e);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(t,e,n){var i=t.getUTCMonth();switch(e){case"L":return String(i+1);case"LL":return Vi(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(t,e,n,i){var r=function(t,e){ai(1,arguments);var n=si(t),i=Hi(n,e).getTime()-Ni(n,e).getTime();return Math.round(i/6048e5)+1}(t,i);return"wo"===e?n.ordinalNumber(r,{unit:"week"}):Vi(r,e.length)},I:function(t,e,n){var i=function(t){ai(1,arguments);var e=si(t),n=Qi(e).getTime()-Li(e).getTime();return Math.round(n/6048e5)+1}(t);return"Io"===e?n.ordinalNumber(i,{unit:"week"}):Vi(i,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):wi(t,e)},D:function(t,e,n){var i=function(t){ai(1,arguments);var e=si(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var i=e.getTime(),r=n-i;return Math.floor(r/864e5)+1}(t);return"Do"===e?n.ordinalNumber(i,{unit:"dayOfYear"}):Vi(i,e.length)},E:function(t,e,n){var i=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(o);case"ee":return Vi(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(t,e,n,i){var r=t.getUTCDay(),o=(r-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(o);case"cc":return Vi(o,e.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(t,e,n){var i=t.getUTCDay(),r=0===i?7:i;switch(e){case"i":return String(r);case"ii":return Vi(r,e.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(t,e,n){var i=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){var i,r=t.getUTCHours();switch(i=12===r?Yi:0===r?ki:r/12>=1?"pm":"am",e){case"b":case"bb":case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){var i,r=t.getUTCHours();switch(i=r>=17?Ki:r>=12?Ti:r>=4?Ei:Pi,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var i=t.getUTCHours()%12;return 0===i&&(i=12),n.ordinalNumber(i,{unit:"hour"})}return Xi(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):Gi(t,e)},K:function(t,e,n){var i=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(i,{unit:"hour"}):Vi(i,e.length)},k:function(t,e,n){var i=t.getUTCHours();return 0===i&&(i=24),"ko"===e?n.ordinalNumber(i,{unit:"hour"}):Vi(i,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):Ri(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):xi(t,e)},S:function(t,e){return Wi(t,e)},X:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();if(0===r)return"Z";switch(e){case"X":return Oi(r);case"XXXX":case"XX":return Mi(r);case"XXXXX":case"XXX":default:return Mi(r,":")}},x:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"x":return Oi(r);case"xxxx":case"xx":return Mi(r);case"xxxxx":case"xxx":default:return Mi(r,":")}},O:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Di(r,":");case"OOOO":default:return"GMT"+Mi(r,":")}},z:function(t,e,n,i){var r=(i._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Di(r,":");case"zzzz":default:return"GMT"+Mi(r,":")}},t:function(t,e,n,i){var r=i._originalDate||t;return Vi(Math.floor(r.getTime()/1e3),e.length)},T:function(t,e,n,i){return Vi((i._originalDate||t).getTime(),e.length)}};function Di(t,e){var n=t>0?"-":"+",i=Math.abs(t),r=Math.floor(i/60),o=i%60;if(0===o)return n+String(r);var c=e||"";return n+String(r)+c+Vi(o,2)}function Oi(t,e){return t%60==0?(t>0?"-":"+")+Vi(Math.abs(t)/60,2):Mi(t,e)}function Mi(t,e){var n=e||"",i=t>0?"-":"+",r=Math.abs(t);return i+Vi(Math.floor(r/60),2)+n+Vi(r%60,2)}function ji(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}}function qi(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}}var _i={p:qi,P:function(t,e){var n,i=t.match(/(P+)(p+)?/),r=i[1],o=i[2];if(!o)return ji(t,e);switch(r){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;case"PPPP":default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",ji(r,e)).replace("{{time}}",qi(o,e))}},$i=["D","DD"],tr=["YY","YYYY"];function er(t){return-1!==$i.indexOf(t)}function nr(t){return-1!==tr.indexOf(t)}function ir(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://git.io/fxCyr"))}var rr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,or=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cr=/^'([^]*?)'?$/,ar=/''/g,sr=/[a-zA-Z]/;function lr(t,e,n){ai(2,arguments);var i=String(e),r=n||{},o=r.locale||Ui,c=o.options&&o.options.firstWeekContainsDate,a=null==c?1:ci(c),s=null==r.firstWeekContainsDate?a:ci(r.firstWeekContainsDate);if(!(s>=1&&s<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var l=o.options&&o.options.weekStartsOn,u=null==l?0:ci(l),d=null==r.weekStartsOn?u:ci(r.weekStartsOn);if(!(d>=0&&d<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!o.localize)throw new RangeError("locale must contain localize property");if(!o.formatLong)throw new RangeError("locale must contain formatLong property");var g=si(t);if(!hi(g))throw new RangeError("Invalid time value");var f=mi(g),m=vi(g,f),h={firstWeekContainsDate:s,weekStartsOn:d,locale:o,_originalDate:g},I=i.match(or).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,_i[e])(t,o.formatLong,h):t})).join("").match(rr).map((function(n){if("''"===n)return"'";var i=n[0];if("'"===i)return ur(n);var c=zi[i];if(c)return!r.useAdditionalWeekYearTokens&&nr(n)&&ir(n,e,t),!r.useAdditionalDayOfYearTokens&&er(n)&&ir(n,e,t),c(m,n,o.localize,h);if(i.match(sr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+i+"`");return n})).join("");return I}function ur(t){return t.match(cr)[1].replace(ar,"'")}var dr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},gr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,fr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,mr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function hr(t,e){ai(1,arguments);var n=e||{},i=null==n.additionalDigits?2:ci(n.additionalDigits);if(2!==i&&1!==i&&0!==i)throw new RangeError("additionalDigits must be 0, 1 or 2");if("string"!=typeof t&&"[object String]"!==Object.prototype.toString.call(t))return new Date(NaN);var r,o=Ir(t);if(o.date){var c=br(o.date,i);r=pr(c.restDateString,c.year)}if(isNaN(r)||!r)return new Date(NaN);var a,s=r.getTime(),l=0;if(o.time&&(l=Br(o.time),isNaN(l)||null===l))return new Date(NaN);if(!o.timezone){var u=new Date(s+l),d=new Date(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate(),u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds());return d.setFullYear(u.getUTCFullYear()),d}return a=Fr(o.timezone),isNaN(a)?new Date(NaN):new Date(s+l+a)}function Ir(t){var e,n={},i=t.split(dr.dateTimeDelimiter);if(i.length>2)return n;if(/:/.test(i[0])?(n.date=null,e=i[0]):(n.date=i[0],e=i[1],dr.timeZoneDelimiter.test(n.date)&&(n.date=t.split(dr.timeZoneDelimiter)[0],e=t.substr(n.date.length,t.length))),e){var r=dr.timezone.exec(e);r?(n.time=e.replace(r[1],""),n.timezone=r[1]):n.time=e}return n}function br(t,e){var n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=t.match(n);if(!i)return{year:null};var r=i[1]&&parseInt(i[1]),o=i[2]&&parseInt(i[2]);return{year:null==o?r:100*o,restDateString:t.slice((i[1]||i[2]).length)}}function pr(t,e){if(null===e)return null;var n=t.match(gr);if(!n)return null;var i=!!n[4],r=yr(n[1]),o=yr(n[2])-1,c=yr(n[3]),a=yr(n[4]),s=yr(n[5])-1;if(i)return function(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}(0,a,s)?function(t,e,n){var i=new Date(0);i.setUTCFullYear(t,0,4);var r=i.getUTCDay()||7,o=7*(e-1)+n+1-r;return i.setUTCDate(i.getUTCDate()+o),i}(e,a,s):new Date(NaN);var l=new Date(0);return function(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(Ur[e]||(vr(t)?29:28))}(e,o,c)&&function(t,e){return e>=1&&e<=(vr(t)?366:365)}(e,r)?(l.setUTCFullYear(e,o,Math.max(r,c)),l):new Date(NaN)}function yr(t){return t?parseInt(t):1}function Br(t){var e=t.match(fr);if(!e)return null;var n=Cr(e[1]),i=Cr(e[2]),r=Cr(e[3]);return function(t,e,n){if(24===t)return 0===e&&0===n;return n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}(n,i,r)?36e5*n+6e4*i+1e3*r:NaN}function Cr(t){return t&&parseFloat(t.replace(",","."))||0}function Fr(t){if("Z"===t)return 0;var e=t.match(mr);if(!e)return 0;var n="+"===e[1]?-1:1,i=parseInt(e[2]),r=e[3]&&parseInt(e[3])||0;return function(t,e){return e>=0&&e<=59}(0,r)?n*(36e5*i+6e4*r):NaN}var Ur=[31,null,31,30,31,30,31,31,30,31,30,31];function vr(t){return t%400==0||t%4==0&&t%100}function Vr(t,e,n){const i=t.slice();return i[5]=e[n],i}function Sr(e){let n,i;const r=new Dn({props:{spin:!0,data:Mn,scale:"3"}});return{c(){n=F("div"),st(r.$$.fragment),w(n,"class","section")},m(t,e){y(t,n,e),lt(r,n,null),i=!0},p:t,i(t){i||(it(r.$$.fragment,t),i=!0)},o(t){rt(r.$$.fragment,t),i=!1},d(t){t&&B(n),ut(r)}}}function Zr(t){let e,n;return{c(){e=F("div"),n=v(t[2]),w(e,"class","notification")},m(t,i){y(t,e,i),p(e,n)},p(t,e){4&e&&G(n,t[2])},d(t){t&&B(e)}}}function wr(t){let e,n,i,r,o,c,a,s=lr(hr(t[5].day),"EEE MM/dd/yyyy")+"",l=t[5].menuDetails+"";return{c(){e=F("tr"),n=F("td"),i=v(s),r=V(),o=F("td"),c=v(l),a=V()},m(t,s){y(t,e,s),p(e,n),p(n,i),p(e,r),p(e,o),p(o,c),p(e,a)},p(t,e){8&e&&s!==(s=lr(hr(t[5].day),"EEE MM/dd/yyyy")+"")&&G(i,s),8&e&&l!==(l=t[5].menuDetails+"")&&G(c,l)},d(t){t&&B(e)}}}function Xr(t){let e,n,i,r,o,c,a,s,l,u,d=t[4]()+"",g=t[0].namedParams.weekOf+"",f=t[1]&&Sr(),m=t[2]&&Zr(t),h=t[3].lunchDays,I=[];for(let e=0;e<h.length;e+=1)I[e]=wr(Vr(t,h,e));return{c(){e=F("div"),n=F("h1"),i=v(d),r=v(" Lunch Menu for the Week of "),o=v(g),c=V(),f&&f.c(),a=V(),m&&m.c(),s=V(),l=F("table");for(let t=0;t<I.length;t+=1)I[t].c();w(n,"class","title is-4"),w(l,"class","table")},m(t,d){y(t,e,d),p(e,n),p(n,i),p(n,r),p(n,o),p(e,c),f&&f.m(e,null),p(e,a),m&&m.m(e,null),p(e,s),p(e,l);for(let t=0;t<I.length;t+=1)I[t].m(l,null);u=!0},p(t,[n]){if((!u||1&n)&&g!==(g=t[0].namedParams.weekOf+"")&&G(o,g),t[1]?f?(f.p(t,n),2&n&&it(f,1)):(f=Sr(),f.c(),it(f,1),f.m(e,a)):f&&(et(),rt(f,1,1,()=>{f=null}),nt()),t[2]?m?m.p(t,n):(m=Zr(t),m.c(),m.m(e,s)):m&&(m.d(1),m=null),8&n){let e;for(h=t[3].lunchDays,e=0;e<h.length;e+=1){const i=Vr(t,h,e);I[e]?I[e].p(i,n):(I[e]=wr(i),I[e].c(),I[e].m(l,null))}for(;e<I.length;e+=1)I[e].d(1);I.length=h.length}},i(t){u||(it(f),u=!0)},o(t){rt(f),u=!1},d(t){t&&B(e),f&&f.d(),m&&m.d(),C(I,t)}}}function Gr(t,e,n){let i,{currentRoute:r}=e,o=!0,c={lunchDays:[]};return N(async()=>{n(2,i=null);try{const t=await Un.get(`/api/lunch-week-public/${r.namedParams.school}/${r.namedParams.weekOf}`);n(3,c=t.data),n(1,o=!1)}catch(t){n(2,i=t.response.data.message),n(1,o=!1),console.error(t)}}),t.$set=t=>{"currentRoute"in t&&n(0,r=t.currentRoute)},[r,o,i,c,()=>r.namedParams.school.split("-").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")]}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var Rr=function(t,e){return(Rr=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function xr(t,e){function n(){this.constructor=t}Rr(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var Wr=function(){return(Wr=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function Qr(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function Ar(t,e,n,i){return new(n||(n=Promise))((function(r,o){function c(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(c,a)}s((i=i.apply(t,e||[])).next())}))}function Lr(t,e){var n,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var Hr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function Jr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nr(t,e){return t(e={exports:{}},e.exports),e.exports}var kr=function(t){return t&&t.Math==Math&&t},Yr=kr("object"==typeof globalThis&&globalThis)||kr("object"==typeof window&&window)||kr("object"==typeof self&&self)||kr("object"==typeof Hr&&Hr)||Function("return this")(),Er=function(t){try{return!!t()}catch(t){return!0}},Tr=!Er((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Kr={}.propertyIsEnumerable,Pr=Object.getOwnPropertyDescriptor,zr={f:Pr&&!Kr.call({1:2},1)?function(t){var e=Pr(this,t);return!!e&&e.enumerable}:Kr},Dr=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},Or={}.toString,Mr=function(t){return Or.call(t).slice(8,-1)},jr="".split,qr=Er((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Mr(t)?jr.call(t,""):Object(t)}:Object,_r=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},$r=function(t){return qr(_r(t))},to=function(t){return"object"==typeof t?null!==t:"function"==typeof t},eo=function(t,e){if(!to(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!to(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!to(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!to(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},no={}.hasOwnProperty,io=function(t,e){return no.call(t,e)},ro=Yr.document,oo=to(ro)&&to(ro.createElement),co=function(t){return oo?ro.createElement(t):{}},ao=!Tr&&!Er((function(){return 7!=Object.defineProperty(co("div"),"a",{get:function(){return 7}}).a})),so=Object.getOwnPropertyDescriptor,lo={f:Tr?so:function(t,e){if(t=$r(t),e=eo(e,!0),ao)try{return so(t,e)}catch(t){}if(io(t,e))return Dr(!zr.f.call(t,e),t[e])}},uo=function(t){if(!to(t))throw TypeError(String(t)+" is not an object");return t},go=Object.defineProperty,fo={f:Tr?go:function(t,e,n){if(uo(t),e=eo(e,!0),uo(n),ao)try{return go(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[e]=n.value),t}},mo=Tr?function(t,e,n){return fo.f(t,e,Dr(1,n))}:function(t,e,n){return t[e]=n,t},ho=function(t,e){try{mo(Yr,t,e)}catch(n){Yr[t]=e}return e},Io=Yr["__core-js_shared__"]||ho("__core-js_shared__",{}),bo=Function.toString;"function"!=typeof Io.inspectSource&&(Io.inspectSource=function(t){return bo.call(t)});var po,yo,Bo,Co=Io.inspectSource,Fo=Yr.WeakMap,Uo="function"==typeof Fo&&/native code/.test(Co(Fo)),vo=Nr((function(t){(t.exports=function(t,e){return Io[t]||(Io[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.6.5",mode:"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})})),Vo=0,So=Math.random(),Zo=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Vo+So).toString(36)},wo=vo("keys"),Xo=function(t){return wo[t]||(wo[t]=Zo(t))},Go={},Ro=Yr.WeakMap;if(Uo){var xo=new Ro,Wo=xo.get,Qo=xo.has,Ao=xo.set;po=function(t,e){return Ao.call(xo,t,e),e},yo=function(t){return Wo.call(xo,t)||{}},Bo=function(t){return Qo.call(xo,t)}}else{var Lo=Xo("state");Go[Lo]=!0,po=function(t,e){return mo(t,Lo,e),e},yo=function(t){return io(t,Lo)?t[Lo]:{}},Bo=function(t){return io(t,Lo)}}var Ho,Jo={set:po,get:yo,has:Bo,enforce:function(t){return Bo(t)?yo(t):po(t,{})},getterFor:function(t){return function(e){var n;if(!to(e)||(n=yo(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}}},No=Nr((function(t){var e=Jo.get,n=Jo.enforce,i=String(String).split("String");(t.exports=function(t,e,r,o){var c=!!o&&!!o.unsafe,a=!!o&&!!o.enumerable,s=!!o&&!!o.noTargetGet;"function"==typeof r&&("string"!=typeof e||io(r,"name")||mo(r,"name",e),n(r).source=i.join("string"==typeof e?e:"")),t!==Yr?(c?!s&&t[e]&&(a=!0):delete t[e],a?t[e]=r:mo(t,e,r)):a?t[e]=r:ho(e,r)})(Function.prototype,"toString",(function(){return"function"==typeof this&&e(this).source||Co(this)}))})),ko=Yr,Yo=function(t){return"function"==typeof t?t:void 0},Eo=function(t,e){return arguments.length<2?Yo(ko[t])||Yo(Yr[t]):ko[t]&&ko[t][e]||Yr[t]&&Yr[t][e]},To=Math.ceil,Ko=Math.floor,Po=function(t){return isNaN(t=+t)?0:(t>0?Ko:To)(t)},zo=Math.min,Do=function(t){return t>0?zo(Po(t),9007199254740991):0},Oo=Math.max,Mo=Math.min,jo=function(t){return function(e,n,i){var r,o=$r(e),c=Do(o.length),a=function(t,e){var n=Po(t);return n<0?Oo(n+e,0):Mo(n,e)}(i,c);if(t&&n!=n){for(;c>a;)if((r=o[a++])!=r)return!0}else for(;c>a;a++)if((t||a in o)&&o[a]===n)return t||a||0;return!t&&-1}},qo={includes:jo(!0),indexOf:jo(!1)},_o=qo.indexOf,$o=function(t,e){var n,i=$r(t),r=0,o=[];for(n in i)!io(Go,n)&&io(i,n)&&o.push(n);for(;e.length>r;)io(i,n=e[r++])&&(~_o(o,n)||o.push(n));return o},tc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],ec=tc.concat("length","prototype"),nc={f:Object.getOwnPropertyNames||function(t){return $o(t,ec)}},ic={f:Object.getOwnPropertySymbols},rc=Eo("Reflect","ownKeys")||function(t){var e=nc.f(uo(t)),n=ic.f;return n?e.concat(n(t)):e},oc=function(t,e){for(var n=rc(e),i=fo.f,r=lo.f,o=0;o<n.length;o++){var c=n[o];io(t,c)||i(t,c,r(e,c))}},cc=/#|\.prototype\./,ac=function(t,e){var n=lc[sc(t)];return n==dc||n!=uc&&("function"==typeof e?Er(e):!!e)},sc=ac.normalize=function(t){return String(t).replace(cc,".").toLowerCase()},lc=ac.data={},uc=ac.NATIVE="N",dc=ac.POLYFILL="P",gc=ac,fc=lo.f,mc=function(t,e){var n,i,r,o,c,a=t.target,s=t.global,l=t.stat;if(n=s?Yr:l?Yr[a]||ho(a,{}):(Yr[a]||{}).prototype)for(i in e){if(o=e[i],r=t.noTargetGet?(c=fc(n,i))&&c.value:n[i],!gc(s?i:a+(l?".":"#")+i,t.forced)&&void 0!==r){if(typeof o==typeof r)continue;oc(o,r)}(t.sham||r&&r.sham)&&mo(o,"sham",!0),No(n,i,o,t)}},hc=!!Object.getOwnPropertySymbols&&!Er((function(){return!String(Symbol())})),Ic=hc&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,bc=vo("wks"),pc=Yr.Symbol,yc=Ic?pc:pc&&pc.withoutSetter||Zo,Bc=function(t){return io(bc,t)||(hc&&io(pc,t)?bc[t]=pc[t]:bc[t]=yc("Symbol."+t)),bc[t]},Cc=Bc("match"),Fc=function(t){if(function(t){var e;return to(t)&&(void 0!==(e=t[Cc])?!!e:"RegExp"==Mr(t))}(t))throw TypeError("The method doesn't accept regular expressions");return t},Uc=Bc("match"),vc=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Uc]=!1,"/./"[t](e)}catch(t){}}return!1},Vc=lo.f,Sc="".startsWith,Zc=Math.min,wc=vc("startsWith"),Xc=!(wc||(Ho=Vc(String.prototype,"startsWith"),!Ho||Ho.writable));mc({target:"String",proto:!0,forced:!Xc&&!wc},{startsWith:function(t){var e=String(_r(this));Fc(t);var n=Do(Zc(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return Sc?Sc.call(e,i,n):e.slice(n,n+i.length)===i}});var Gc,Rc,xc,Wc=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},Qc=function(t,e,n){if(Wc(t),void 0===e)return t;switch(n){case 0:return function(){return t.call(e)};case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},Ac=Function.call,Lc=function(t,e,n){return Qc(Ac,Yr[t].prototype[e],n)},Hc=(Lc("String","startsWith"),function(t){return function(e,n){var i,r,o=String(_r(e)),c=Po(n),a=o.length;return c<0||c>=a?t?"":void 0:(i=o.charCodeAt(c))<55296||i>56319||c+1===a||(r=o.charCodeAt(c+1))<56320||r>57343?t?o.charAt(c):i:t?o.slice(c,c+2):r-56320+(i-55296<<10)+65536}}),Jc={codeAt:Hc(!1),charAt:Hc(!0)},Nc=function(t){return Object(_r(t))},kc=!Er((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Yc=Xo("IE_PROTO"),Ec=Object.prototype,Tc=kc?Object.getPrototypeOf:function(t){return t=Nc(t),io(t,Yc)?t[Yc]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Ec:null},Kc=Bc("iterator"),Pc=!1;[].keys&&("next"in(xc=[].keys())?(Rc=Tc(Tc(xc)))!==Object.prototype&&(Gc=Rc):Pc=!0),null==Gc&&(Gc={}),io(Gc,Kc)||mo(Gc,Kc,(function(){return this}));var zc,Dc={IteratorPrototype:Gc,BUGGY_SAFARI_ITERATORS:Pc},Oc=Object.keys||function(t){return $o(t,tc)},Mc=Tr?Object.defineProperties:function(t,e){uo(t);for(var n,i=Oc(e),r=i.length,o=0;r>o;)fo.f(t,n=i[o++],e[n]);return t},jc=Eo("document","documentElement"),qc=Xo("IE_PROTO"),_c=function(){},$c=function(t){return"<script>"+t+"<\/script>"},ta=function(){try{zc=document.domain&&new ActiveXObject("htmlfile")}catch(t){}var t,e;ta=zc?function(t){t.write($c("")),t.close();var e=t.parentWindow.Object;return t=null,e}(zc):((e=co("iframe")).style.display="none",jc.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write($c("document.F=Object")),t.close(),t.F);for(var n=tc.length;n--;)delete ta.prototype[tc[n]];return ta()};Go[qc]=!0;var ea=Object.create||function(t,e){var n;return null!==t?(_c.prototype=uo(t),n=new _c,_c.prototype=null,n[qc]=t):n=ta(),void 0===e?n:Mc(n,e)},na=fo.f,ia=Bc("toStringTag"),ra=function(t,e,n){t&&!io(t=n?t:t.prototype,ia)&&na(t,ia,{configurable:!0,value:e})},oa={},ca=Dc.IteratorPrototype,aa=function(){return this},sa=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,n={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),e=n instanceof Array}catch(t){}return function(n,i){return uo(n),function(t){if(!to(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}(i),e?t.call(n,i):n.__proto__=i,n}}():void 0),la=Dc.IteratorPrototype,ua=Dc.BUGGY_SAFARI_ITERATORS,da=Bc("iterator"),fa=function(){return this},ma=function(t,e,n,i,r,o,c){!function(t,e,n){var i=e+" Iterator";t.prototype=ea(ca,{next:Dr(1,n)}),ra(t,i,!1),oa[i]=aa}(n,e,i);var a,s,l,u=function(t){if(t===r&&h)return h;if(!ua&&t in f)return f[t];switch(t){case"keys":case"values":case"entries":return function(){return new n(this,t)}}return function(){return new n(this)}},d=e+" Iterator",g=!1,f=t.prototype,m=f[da]||f["@@iterator"]||r&&f[r],h=!ua&&m||u(r),I="Array"==e&&f.entries||m;if(I&&(a=Tc(I.call(new t)),la!==Object.prototype&&a.next&&(Tc(a)!==la&&(sa?sa(a,la):"function"!=typeof a[da]&&mo(a,da,fa)),ra(a,d,!0))),"values"==r&&m&&"values"!==m.name&&(g=!0,h=function(){return m.call(this)}),f[da]!==h&&mo(f,da,h),oa[e]=h,r)if(s={values:u("values"),keys:o?h:u("keys"),entries:u("entries")},c)for(l in s)(ua||g||!(l in f))&&No(f,l,s[l]);else mc({target:e,proto:!0,forced:ua||g},s);return s},ha=Jc.charAt,Ia=Jo.set,ba=Jo.getterFor("String Iterator");ma(String,"String",(function(t){Ia(this,{type:"String Iterator",string:String(t),index:0})}),(function(){var t,e=ba(this),n=e.string,i=e.index;return i>=n.length?{value:void 0,done:!0}:(t=ha(n,i),e.index+=t.length,{value:t,done:!1})}));var pa=function(t,e,n,i){try{return i?e(uo(n)[0],n[1]):e(n)}catch(e){var r=t.return;throw void 0!==r&&uo(r.call(t)),e}},ya=Bc("iterator"),Ba=Array.prototype,Ca=function(t){return void 0!==t&&(oa.Array===t||Ba[ya]===t)},Fa=function(t,e,n){var i=eo(e);i in t?fo.f(t,i,Dr(0,n)):t[i]=n},Ua={};Ua[Bc("toStringTag")]="z";var va="[object z]"===String(Ua),Va=Bc("toStringTag"),Sa="Arguments"==Mr(function(){return arguments}()),Za=va?Mr:function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),Va))?n:Sa?Mr(e):"Object"==(i=Mr(e))&&"function"==typeof e.callee?"Arguments":i},wa=Bc("iterator"),Xa=function(t){if(null!=t)return t[wa]||t["@@iterator"]||oa[Za(t)]},Ga=Bc("iterator"),Ra=!1;try{var xa=0,Wa={next:function(){return{done:!!xa++}},return:function(){Ra=!0}};Wa[Ga]=function(){return this},Array.from(Wa,(function(){throw 2}))}catch(Rr){}var Qa=function(t,e){if(!e&&!Ra)return!1;var n=!1;try{var i={};i[Ga]=function(){return{next:function(){return{done:n=!0}}}},t(i)}catch(t){}return n},Aa=!Qa((function(t){Array.from(t)}));mc({target:"Array",stat:!0,forced:Aa},{from:function(t){var e,n,i,r,o,c,a=Nc(t),s="function"==typeof this?this:Array,l=arguments.length,u=l>1?arguments[1]:void 0,d=void 0!==u,g=Xa(a),f=0;if(d&&(u=Qc(u,l>2?arguments[2]:void 0,2)),null==g||s==Array&&Ca(g))for(n=new s(e=Do(a.length));e>f;f++)c=d?u(a[f],f):a[f],Fa(n,f,c);else for(o=(r=g.call(a)).next,n=new s;!(i=o.call(r)).done;f++)c=d?pa(r,u,[i.value,f],!0):i.value,Fa(n,f,c);return n.length=f,n}}),ko.Array.from;var La,Ha="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView,Ja=fo.f,Na=Yr.Int8Array,ka=Na&&Na.prototype,Ya=Yr.Uint8ClampedArray,Ea=Ya&&Ya.prototype,Ta=Na&&Tc(Na),Ka=ka&&Tc(ka),Pa=Object.prototype,za=Pa.isPrototypeOf,Da=Bc("toStringTag"),Oa=Zo("TYPED_ARRAY_TAG"),Ma=Ha&&!!sa&&"Opera"!==Za(Yr.opera),ja={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(La in ja)Yr[La]||(Ma=!1);if((!Ma||"function"!=typeof Ta||Ta===Function.prototype)&&(Ta=function(){throw TypeError("Incorrect invocation")},Ma))for(La in ja)Yr[La]&&sa(Yr[La],Ta);if((!Ma||!Ka||Ka===Pa)&&(Ka=Ta.prototype,Ma))for(La in ja)Yr[La]&&sa(Yr[La].prototype,Ka);if(Ma&&Tc(Ea)!==Ka&&sa(Ea,Ka),Tr&&!io(Ka,Da))for(La in Ja(Ka,Da,{get:function(){return to(this)?this[Oa]:void 0}}),ja)Yr[La]&&mo(Yr[La],Oa,La);var qa=Bc("species"),_a=function(t){if(function(t){return to(t)&&io(ja,Za(t))}(t))return t;throw TypeError("Target is not a typed array")},$a=function(t){if(sa){if(za.call(Ta,t))return t}else for(var e in ja)if(io(ja,La)){var n=Yr[e];if(n&&(t===n||za.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},ts=[].slice;!function(t,e,n){if(Tr){if(n)for(var i in ja){var r=Yr[i];r&&io(r.prototype,t)&&delete r.prototype[t]}Ka[t]&&!n||No(Ka,t,n?e:Ma&&ka[t]||e)}}("slice",(function(t,e){for(var n=ts.call(_a(this),t,e),i=function(t,e){var n,i=uo(t).constructor;return void 0===i||null==(n=uo(i)[qa])?e:Wc(n)}(this,this.constructor),r=0,o=n.length,c=new($a(i))(o);o>r;)c[r]=n[r++];return c}),Er((function(){new Int8Array(1).slice()})));var es=Bc("unscopables"),ns=Array.prototype;null==ns[es]&&fo.f(ns,es,{configurable:!0,value:ea(null)});var is=function(t){ns[es][t]=!0},rs=Object.defineProperty,os={},cs=function(t){throw t},as=qo.includes,ss=function(t,e){if(io(os,t))return os[t];e||(e={});var n=[][t],i=!!io(e,"ACCESSORS")&&e.ACCESSORS,r=io(e,0)?e[0]:cs,o=io(e,1)?e[1]:void 0;return os[t]=!!n&&!Er((function(){if(i&&!Tr)return!0;var t={length:-1};i?rs(t,1,{enumerable:!0,get:cs}):t[1]=1,n.call(t,r,o)}))}("indexOf",{ACCESSORS:!0,1:0});mc({target:"Array",proto:!0,forced:!ss},{includes:function(t){return as(this,t,arguments.length>1?arguments[1]:void 0)}}),is("includes"),Lc("Array","includes"),mc({target:"String",proto:!0,forced:!vc("includes")},{includes:function(t){return!!~String(_r(this)).indexOf(Fc(t),arguments.length>1?arguments[1]:void 0)}}),Lc("String","includes");var ls=!Er((function(){return Object.isExtensible(Object.preventExtensions({}))})),us=Nr((function(t){var e=fo.f,n=Zo("meta"),i=0,r=Object.isExtensible||function(){return!0},o=function(t){e(t,n,{value:{objectID:"O"+ ++i,weakData:{}}})},c=t.exports={REQUIRED:!1,fastKey:function(t,e){if(!to(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!io(t,n)){if(!r(t))return"F";if(!e)return"E";o(t)}return t[n].objectID},getWeakData:function(t,e){if(!io(t,n)){if(!r(t))return!0;if(!e)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return ls&&c.REQUIRED&&r(t)&&!io(t,n)&&o(t),t}};Go[n]=!0})),ds=(us.REQUIRED,us.fastKey,us.getWeakData,us.onFreeze,Nr((function(t){var e=function(t,e){this.stopped=t,this.result=e};(t.exports=function(t,n,i,r,o){var c,a,s,l,u,d,g,f=Qc(n,i,r?2:1);if(o)c=t;else{if("function"!=typeof(a=Xa(t)))throw TypeError("Target is not iterable");if(Ca(a)){for(s=0,l=Do(t.length);l>s;s++)if((u=r?f(uo(g=t[s])[0],g[1]):f(t[s]))&&u instanceof e)return u;return new e(!1)}c=a.call(t)}for(d=c.next;!(g=d.call(c)).done;)if("object"==typeof(u=pa(c,f,g.value,r))&&u&&u instanceof e)return u;return new e(!1)}).stop=function(t){return new e(!0,t)}}))),gs=function(t,e,n){if(!(t instanceof e))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t},fs=function(t,e,n){for(var i in e)No(t,i,e[i],n);return t},ms=Bc("species"),hs=fo.f,Is=us.fastKey,bs=Jo.set,ps=Jo.getterFor,ys=(function(t,e,n){var i=-1!==t.indexOf("Map"),r=-1!==t.indexOf("Weak"),o=i?"set":"add",c=Yr.Set,a=c&&c.prototype,s=c,l={},u=function(t){var e=a[t];No(a,t,"add"==t?function(t){return e.call(this,0===t?0:t),this}:"delete"==t?function(t){return!(r&&!to(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return r&&!to(t)?void 0:e.call(this,0===t?0:t)}:"has"==t?function(t){return!(r&&!to(t))&&e.call(this,0===t?0:t)}:function(t,n){return e.call(this,0===t?0:t,n),this})};if(gc(t,"function"!=typeof c||!(r||a.forEach&&!Er((function(){(new c).entries().next()})))))s=n.getConstructor(e,t,i,o),us.REQUIRED=!0;else if(gc(t,!0)){var d=new s,g=d[o](r?{}:-0,1)!=d,f=Er((function(){d.has(1)})),m=Qa((function(t){new c(t)})),h=!r&&Er((function(){for(var t=new c,e=5;e--;)t[o](e,e);return!t.has(-0)}));m||((s=e((function(e,n){gs(e,s,t);var r=function(t,e,n){var i,r;return sa&&"function"==typeof(i=e.constructor)&&i!==n&&to(r=i.prototype)&&r!==n.prototype&&sa(t,r),t}(new c,e,s);return null!=n&&ds(n,r[o],r,i),r}))).prototype=a,a.constructor=s),(f||h)&&(u("delete"),u("has"),i&&u("get")),(h||g)&&u(o),r&&a.clear&&delete a.clear}l.Set=s,mc({global:!0,forced:s!=c},l),ra(s,t),r||n.setStrong(s,t,i)}("Set",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),{getConstructor:function(t,e,n,i){var r=t((function(t,o){gs(t,r,e),bs(t,{type:e,index:ea(null),first:void 0,last:void 0,size:0}),Tr||(t.size=0),null!=o&&ds(o,t[i],t,n)})),o=ps(e),c=function(t,e,n){var i,r,c=o(t),s=a(t,e);return s?s.value=n:(c.last=s={index:r=Is(e,!0),key:e,value:n,previous:i=c.last,next:void 0,removed:!1},c.first||(c.first=s),i&&(i.next=s),Tr?c.size++:t.size++,"F"!==r&&(c.index[r]=s)),t},a=function(t,e){var n,i=o(t),r=Is(e);if("F"!==r)return i.index[r];for(n=i.first;n;n=n.next)if(n.key==e)return n};return fs(r.prototype,{clear:function(){for(var t=o(this),e=t.index,n=t.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete e[n.index],n=n.next;t.first=t.last=void 0,Tr?t.size=0:this.size=0},delete:function(t){var e=this,n=o(e),i=a(e,t);if(i){var r=i.next,c=i.previous;delete n.index[i.index],i.removed=!0,c&&(c.next=r),r&&(r.previous=c),n.first==i&&(n.first=r),n.last==i&&(n.last=c),Tr?n.size--:e.size--}return!!i},forEach:function(t){for(var e,n=o(this),i=Qc(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.next:n.first;)for(i(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!a(this,t)}}),fs(r.prototype,n?{get:function(t){var e=a(this,t);return e&&e.value},set:function(t,e){return c(this,0===t?0:t,e)}}:{add:function(t){return c(this,t=0===t?0:t,t)}}),Tr&&hs(r.prototype,"size",{get:function(){return o(this).size}}),r},setStrong:function(t,e,n){var i=e+" Iterator",r=ps(e),o=ps(i);ma(t,e,(function(t,e){bs(this,{type:i,target:t,state:r(t),kind:e,last:void 0})}),(function(){for(var t=o(this),e=t.kind,n=t.last;n&&n.removed;)n=n.previous;return t.target&&(t.last=n=n?n.next:t.state.first)?"keys"==e?{value:n.key,done:!1}:"values"==e?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),function(t){var e=Eo(t),n=fo.f;Tr&&e&&!e[ms]&&n(e,ms,{configurable:!0,get:function(){return this}})}(e)}}),va?{}.toString:function(){return"[object "+Za(this)+"]"});va||No(Object.prototype,"toString",ys,{unsafe:!0});var Bs={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Cs=Jo.set,Fs=Jo.getterFor("Array Iterator"),Us=ma(Array,"Array",(function(t,e){Cs(this,{type:"Array Iterator",target:$r(t),index:0,kind:e})}),(function(){var t=Fs(this),e=t.target,n=t.kind,i=t.index++;return!e||i>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:i,done:!1}:"values"==n?{value:e[i],done:!1}:{value:[i,e[i]],done:!1}}),"values");oa.Arguments=oa.Array,is("keys"),is("values"),is("entries");var vs=Bc("iterator"),Vs=Bc("toStringTag"),Ss=Us.values;for(var Zs in Bs){var ws=Yr[Zs],Xs=ws&&ws.prototype;if(Xs){if(Xs[vs]!==Ss)try{mo(Xs,vs,Ss)}catch(Rr){Xs[vs]=Ss}if(Xs[Vs]||mo(Xs,Vs,Zs),Bs[Zs])for(var Gs in Us)if(Xs[Gs]!==Us[Gs])try{mo(Xs,Gs,Us[Gs])}catch(Rr){Xs[Gs]=Us[Gs]}}}function Rs(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))}ko.Set;var xs=setTimeout;function Ws(t){return Boolean(t&&void 0!==t.length)}function Qs(){}function As(t){if(!(this instanceof As))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Ys(t,this)}function Ls(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,As._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void Js(e.promise,t)}Hs(e.promise,i)}else(1===t._state?Hs:Js)(e.promise,t._value)}))):t._deferreds.push(e)}function Hs(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof As)return t._state=3,t._value=e,void Ns(t);if("function"==typeof n)return void Ys((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,Ns(t)}catch(e){Js(t,e)}var i,r}function Js(t,e){t._state=2,t._value=e,Ns(t)}function Ns(t){2===t._state&&0===t._deferreds.length&&As._immediateFn((function(){t._handled||As._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)Ls(t,t._deferreds[e]);t._deferreds=null}function ks(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function Ys(t,e){var n=!1;try{t((function(t){n||(n=!0,Hs(e,t))}),(function(t){n||(n=!0,Js(e,t))}))}catch(t){if(n)return;n=!0,Js(e,t)}}As.prototype.catch=function(t){return this.then(null,t)},As.prototype.then=function(t,e){var n=new this.constructor(Qs);return Ls(this,new ks(t,e,n)),n},As.prototype.finally=Rs,As.all=function(t){return new As((function(e,n){if(!Ws(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function o(t,c){try{if(c&&("object"==typeof c||"function"==typeof c)){var a=c.then;if("function"==typeof a)return void a.call(c,(function(e){o(t,e)}),n)}i[t]=c,0==--r&&e(i)}catch(t){n(t)}}for(var c=0;c<i.length;c++)o(c,i[c])}))},As.resolve=function(t){return t&&"object"==typeof t&&t.constructor===As?t:new As((function(e){e(t)}))},As.reject=function(t){return new As((function(e,n){n(t)}))},As.race=function(t){return new As((function(e,n){if(!Ws(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,r=t.length;i<r;i++)As.resolve(t[i]).then(e,n)}))},As._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){xs(t,0)},As._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var Es=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("unable to locate global object")}();"Promise"in Es?Es.Promise.prototype.finally||(Es.Promise.prototype.finally=Rs):Es.Promise=As,function(t){function e(){}function n(t,e){if(t=void 0===t?"utf-8":t,e=void 0===e?{fatal:!1}:e,-1===r.indexOf(t.toLowerCase()))throw new RangeError("Failed to construct 'TextDecoder': The encoding label provided ('"+t+"') is invalid.");if(e.fatal)throw Error("Failed to construct 'TextDecoder': the 'fatal' option is unsupported.")}function i(t){for(var e=0,n=Math.min(65536,t.length+1),i=new Uint16Array(n),r=[],o=0;;){var c=e<t.length;if(!c||o>=n-1){if(r.push(String.fromCharCode.apply(null,i.subarray(0,o))),!c)return r.join("");t=t.subarray(e),o=e=0}if(0==(128&(c=t[e++])))i[o++]=c;else if(192==(224&c)){var a=63&t[e++];i[o++]=(31&c)<<6|a}else if(224==(240&c)){a=63&t[e++];var s=63&t[e++];i[o++]=(31&c)<<12|a<<6|s}else 240==(248&c)&&(65535<(c=(7&c)<<18|(a=63&t[e++])<<12|(s=63&t[e++])<<6|63&t[e++])&&(c-=65536,i[o++]=c>>>10&1023|55296,c=56320|1023&c),i[o++]=c)}}if(t.TextEncoder&&t.TextDecoder)return!1;var r=["utf-8","utf8","unicode-1-1-utf-8"];Object.defineProperty(e.prototype,"encoding",{value:"utf-8"}),e.prototype.encode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to encode: the 'stream' option is unsupported.");e=0;for(var n=t.length,i=0,r=Math.max(32,n+(n>>>1)+7),o=new Uint8Array(r>>>3<<3);e<n;){var c=t.charCodeAt(e++);if(55296<=c&&56319>=c){if(e<n){var a=t.charCodeAt(e);56320==(64512&a)&&(++e,c=((1023&c)<<10)+(1023&a)+65536)}if(55296<=c&&56319>=c)continue}if(i+4>o.length&&(r+=8,r=(r*=1+e/t.length*2)>>>3<<3,(a=new Uint8Array(r)).set(o),o=a),0==(4294967168&c))o[i++]=c;else{if(0==(4294965248&c))o[i++]=c>>>6&31|192;else if(0==(4294901760&c))o[i++]=c>>>12&15|224,o[i++]=c>>>6&63|128;else{if(0!=(4292870144&c))continue;o[i++]=c>>>18&7|240,o[i++]=c>>>12&63|128,o[i++]=c>>>6&63|128}o[i++]=63&c|128}}return o.slice?o.slice(0,i):o.subarray(0,i)},Object.defineProperty(n.prototype,"encoding",{value:"utf-8"}),Object.defineProperty(n.prototype,"fatal",{value:!1}),Object.defineProperty(n.prototype,"ignoreBOM",{value:!1});var o=i;"function"==typeof Buffer&&Buffer.from?o=function(t){return Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf-8")}:"function"==typeof Blob&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&(o=function(t){var e=URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}));try{var n=new XMLHttpRequest;return n.open("GET",e,!1),n.send(),n.responseText}catch(e){return i(t)}finally{URL.revokeObjectURL(e)}}),n.prototype.decode=function(t,e){if((e=void 0===e?{stream:!1}:e).stream)throw Error("Failed to decode: the 'stream' option is unsupported.");return t=t instanceof Uint8Array?t:t.buffer instanceof ArrayBuffer?new Uint8Array(t.buffer):new Uint8Array(t),o(t)},t.TextEncoder=e,t.TextDecoder=n}("undefined"!=typeof window?window:Hr),function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function n(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&function(t,e){(Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}(t,e)}function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?o(t):e}function a(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var o=r(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return c(this,n)}}function s(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t}function l(t,e,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=s(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}var u=function(){function e(){t(this,e),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return n(e,[{key:"addEventListener",value:function(t,e){t in this.listeners||(this.listeners[t]=[]),this.listeners[t].push(e)}},{key:"removeEventListener",value:function(t,e){if(t in this.listeners)for(var n=this.listeners[t],i=0,r=n.length;i<r;i++)if(n[i]===e)return void n.splice(i,1)}},{key:"dispatchEvent",value:function(t){var e=this;if(t.type in this.listeners){for(var n=function(n){setTimeout((function(){return n.call(e,t)}))},i=this.listeners[t.type],r=0,o=i.length;r<o;r++)n(i[r]);return!t.defaultPrevented}}}]),e}(),d=function(e){i(s,e);var c=a(s);function s(){var e;return t(this,s),(e=c.call(this)).listeners||u.call(o(e)),Object.defineProperty(o(e),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(o(e),"onabort",{value:null,writable:!0,configurable:!0}),e}return n(s,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(t){"abort"===t.type&&(this.aborted=!0,"function"==typeof this.onabort&&this.onabort.call(this,t)),l(r(s.prototype),"dispatchEvent",this).call(this,t)}}]),s}(u),g=function(){function e(){t(this,e),Object.defineProperty(this,"signal",{value:new d,writable:!0,configurable:!0})}return n(e,[{key:"abort",value:function(){var t;try{t=new Event("abort")}catch(e){"undefined"!=typeof document?document.createEvent?(t=document.createEvent("Event")).initEvent("abort",!1,!1):(t=document.createEventObject()).type="abort":t={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(t)}},{key:"toString",value:function(){return"[object AbortController]"}}]),e}();"undefined"!=typeof Symbol&&Symbol.toStringTag&&(g.prototype[Symbol.toStringTag]="AbortController",d.prototype[Symbol.toStringTag]="AbortSignal"),function(t){(function(t){return t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):"function"==typeof t.Request&&!t.Request.prototype.hasOwnProperty("signal")||!t.AbortController})(t)&&(t.AbortController=g,t.AbortSignal=d)}("undefined"!=typeof self?self:Hr)}();var Ts=Nr((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(){var t=this;this.locked=new Map,this.addToLocked=function(e,n){var i=t.locked.get(e);void 0===i?void 0===n?t.locked.set(e,[]):t.locked.set(e,[n]):void 0!==n&&(i.unshift(n),t.locked.set(e,i))},this.isLocked=function(e){return t.locked.has(e)},this.lock=function(e){return new Promise((function(n,i){t.isLocked(e)?t.addToLocked(e,n):(t.addToLocked(e),n())}))},this.unlock=function(e){var n=t.locked.get(e);if(void 0!==n&&0!==n.length){var i=n.pop();t.locked.set(e,n),void 0!==i&&setTimeout(i,0)}else t.locked.delete(e)}}return t.getInstance=function(){return void 0===t.instance&&(t.instance=new t),t.instance},t}();e.default=function(){return n.getInstance()}}));Jr(Ts);var Ks=Jr(Nr((function(t,e){var n=Hr&&Hr.__awaiter||function(t,e,n,i){return new(n||(n=Promise))((function(r,o){function c(t){try{s(i.next(t))}catch(t){o(t)}}function a(t){try{s(i.throw(t))}catch(t){o(t)}}function s(t){t.done?r(t.value):new n((function(e){e(t.value)})).then(c,a)}s((i=i.apply(t,e||[])).next())}))},i=Hr&&Hr.__generator||function(t,e){var n,i,r,o,c={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;c;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,i=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((r=(r=c.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){c.label=o[1];break}if(6===o[0]&&c.label<r[1]){c.label=r[1],r=o;break}if(r&&c.label<r[2]){c.label=r[2],c.ops.push(o);break}r[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(t,c)}catch(t){o=[6,t],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(e,"__esModule",{value:!0});var r="browser-tabs-lock-key";function o(t){return new Promise((function(e){return setTimeout(e,t)}))}function c(t){for(var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",n="",i=0;i<t;i++)n+=e[Math.floor(Math.random()*e.length)];return n}var a=function(){function t(){this.acquiredIatSet=new Set,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),void 0===t.waiters&&(t.waiters=[])}return t.prototype.acquireLock=function(e,a){return void 0===a&&(a=5e3),n(this,void 0,void 0,(function(){var n,s,l,u,d,g;return i(this,(function(i){switch(i.label){case 0:n=Date.now()+c(4),s=Date.now()+a,l=r+"-"+e,u=window.localStorage,i.label=1;case 1:return Date.now()<s?[4,o(30)]:[3,8];case 2:return i.sent(),null!==u.getItem(l)?[3,5]:(d=this.id+"-"+e+"-"+n,[4,o(Math.floor(25*Math.random()))]);case 3:return i.sent(),u.setItem(l,JSON.stringify({id:this.id,iat:n,timeoutKey:d,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,o(30)];case 4:return i.sent(),null!==(g=u.getItem(l))&&(g=JSON.parse(g)).id===this.id&&g.iat===n?(this.acquiredIatSet.add(n),this.refreshLockWhileAcquired(l,n),[2,!0]):[3,7];case 5:return t.lockCorrector(),[4,this.waitForSomethingToChange(s)];case 6:i.sent(),i.label=7;case 7:return n=Date.now()+c(4),[3,1];case 8:return[2,!1]}}))}))},t.prototype.refreshLockWhileAcquired=function(t,e){return n(this,void 0,void 0,(function(){var r=this;return i(this,(function(o){return setTimeout((function(){return n(r,void 0,void 0,(function(){var n,r;return i(this,(function(i){switch(i.label){case 0:return[4,Ts.default().lock(e)];case 1:return i.sent(),this.acquiredIatSet.has(e)?(n=window.localStorage,null===(r=n.getItem(t))?(Ts.default().unlock(e),[2]):((r=JSON.parse(r)).timeRefreshed=Date.now(),n.setItem(t,JSON.stringify(r)),Ts.default().unlock(e),this.refreshLockWhileAcquired(t,e),[2])):(Ts.default().unlock(e),[2])}}))}))}),1e3),[2]}))}))},t.prototype.waitForSomethingToChange=function(e){return n(this,void 0,void 0,(function(){return i(this,(function(n){switch(n.label){case 0:return[4,new Promise((function(n){var i=!1,r=Date.now(),o=!1;function c(){if(o||(window.removeEventListener("storage",c),t.removeFromWaiting(c),clearTimeout(a),o=!0),!i){i=!0;var e=50-(Date.now()-r);e>0?setTimeout(n,e):n()}}window.addEventListener("storage",c),t.addToWaiting(c);var a=setTimeout(c,Math.max(0,e-Date.now()))}))];case 1:return n.sent(),[2]}}))}))},t.addToWaiting=function(e){this.removeFromWaiting(e),void 0!==t.waiters&&t.waiters.push(e)},t.removeFromWaiting=function(e){void 0!==t.waiters&&(t.waiters=t.waiters.filter((function(t){return t!==e})))},t.notifyWaiters=function(){void 0!==t.waiters&&t.waiters.slice().forEach((function(t){return t()}))},t.prototype.releaseLock=function(t){return n(this,void 0,void 0,(function(){return i(this,(function(e){switch(e.label){case 0:return[4,this.releaseLock__private__(t)];case 1:return[2,e.sent()]}}))}))},t.prototype.releaseLock__private__=function(e){return n(this,void 0,void 0,(function(){var n,o,c;return i(this,(function(i){switch(i.label){case 0:return n=window.localStorage,o=r+"-"+e,null===(c=n.getItem(o))?[2]:(c=JSON.parse(c)).id!==this.id?[3,2]:[4,Ts.default().lock(c.iat)];case 1:i.sent(),this.acquiredIatSet.delete(c.iat),n.removeItem(o),Ts.default().unlock(c.iat),t.notifyWaiters(),i.label=2;case 2:return[2]}}))}))},t.lockCorrector=function(){for(var e=Date.now()-5e3,n=window.localStorage,i=Object.keys(n),o=!1,c=0;c<i.length;c++){var a=i[c];if(a.includes(r)){var s=n.getItem(a);null!==s&&(void 0===(s=JSON.parse(s)).timeRefreshed&&s.timeAcquired<e||void 0!==s.timeRefreshed&&s.timeRefreshed<e)&&(n.removeItem(a),o=!0)}}o&&t.notifyWaiters()},t.waiters=void 0,t}();e.default=a}))),Ps={timeoutInSeconds:60},zs=["login_required","consent_required","interaction_required","account_selection_required","access_denied"],Ds=function(t){function e(n,i){var r=t.call(this,i)||this;return r.error=n,r.error_description=i,Object.setPrototypeOf(r,e.prototype),r}return xr(e,t),e.fromPayload=function(t){return new e(t.error,t.error_description)},e}(Error),Os=function(t){function e(n,i,r,o){void 0===o&&(o=null);var c=t.call(this,n,i)||this;return c.state=r,c.appState=o,Object.setPrototypeOf(c,e.prototype),c}return xr(e,t),e}(Ds),Ms=function(t){function e(){var n=t.call(this,"timeout","Timeout")||this;return Object.setPrototypeOf(n,e.prototype),n}return xr(e,t),e}(Ds),js=function(t){function e(n){var i=t.call(this)||this;return i.popup=n,Object.setPrototypeOf(i,e.prototype),i}return xr(e,t),e}(Ms),qs=function(t,e,n){return void 0===n&&(n=60),new Promise((function(i,r){var o=window.document.createElement("iframe");o.setAttribute("width","0"),o.setAttribute("height","0"),o.style.display="none";var c=function(){window.document.body.contains(o)&&window.document.body.removeChild(o)},a=setTimeout((function(){r(new Ms),c()}),1e3*n),s=function(t){if(t.origin==e&&t.data&&"authorization_response"===t.data.type){var n=t.source;n&&n.close(),t.data.response.error?r(Ds.fromPayload(t.data.response)):i(t.data.response),clearTimeout(a),window.removeEventListener("message",s,!1),setTimeout(c,2e3)}};window.addEventListener("message",s,!1),window.document.body.appendChild(o),o.setAttribute("src",t)}))},_s=function(t,e){var n,i,r,o=e.popup;if(o?o.location.href=t:(n=t,i=window.screenX+(window.innerWidth-400)/2,r=window.screenY+(window.innerHeight-600)/2,o=window.open(n,"auth0:authorize:popup","left="+i+",top="+r+",width=400,height=600,resizable,scrollbars=yes,status=1")),!o)throw new Error("Could not open popup");return new Promise((function(t,n){var i=setTimeout((function(){n(new js(o))}),1e3*(e.timeoutInSeconds||60));window.addEventListener("message",(function(e){if(e.data&&"authorization_response"===e.data.type){if(clearTimeout(i),o.close(),e.data.response.error)return n(Ds.fromPayload(e.data.response));t(e.data.response)}}))}))},$s=function(){return window.crypto||window.msCrypto},tl=function(){var t=$s();return t.subtle||t.webkitSubtle},el=function(){var t="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",e="";return Array.from($s().getRandomValues(new Uint8Array(43))).forEach((function(n){return e+=t[n%t.length]})),e},nl=function(t){return btoa(t)},il=function(t){return Object.keys(t).filter((function(e){return void 0!==t[e]})).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},rl=function(t){return Ar(void 0,void 0,void 0,(function(){var e;return Lr(this,(function(n){switch(n.label){case 0:return e=tl().digest({name:"SHA-256"},(new TextEncoder).encode(t)),window.msCrypto?[2,new Promise((function(t,n){e.oncomplete=function(e){t(e.target.result)},e.onerror=function(t){n(t.error)},e.onabort=function(){n("The digest operation was aborted")}}))]:[4,e];case 1:return[2,n.sent()]}}))}))},ol=function(t){return function(t){return decodeURIComponent(atob(t).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""))}(t.replace(/_/g,"/").replace(/-/g,"+"))},cl=function(t){var e=new Uint8Array(t);return function(t){var e={"+":"-","/":"_","=":""};return t.replace(/[+/=]/g,(function(t){return e[t]}))}(window.btoa(String.fromCharCode.apply(String,Array.from(e))))},al=function(t,e,n,i,r,o){return Ar(void 0,void 0,void 0,(function(){var c,a;return Lr(this,(function(s){switch(s.label){case 0:return o?(delete i.signal,[2,(d=Wr({url:t,audience:e,scope:n,timeout:r},i),g=o,new Promise((function(t,e){var n=new MessageChannel;n.port1.onmessage=function(n){n.data.error?e(new Error(n.data.error)):t(n.data)},g.postMessage(d,[n.port2])})))]):[3,1];case 1:return[4,(l=t,u=i,u=u||{},new Promise((function(t,e){var n=new XMLHttpRequest,i=[],r=[],o={},c=function(){return{ok:2==(n.status/100|0),statusText:n.statusText,status:n.status,url:n.responseURL,text:function(){return Promise.resolve(n.responseText)},json:function(){return Promise.resolve(JSON.parse(n.responseText))},blob:function(){return Promise.resolve(new Blob([n.response]))},clone:c,headers:{keys:function(){return i},entries:function(){return r},get:function(t){return o[t.toLowerCase()]},has:function(t){return t.toLowerCase()in o}}}};for(var a in n.open(u.method||"get",l,!0),n.onload=function(){n.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(t,e,n){i.push(e=e.toLowerCase()),r.push([e,n]),o[e]=o[e]?o[e]+","+n:n})),t(c())},n.onerror=e,n.withCredentials="include"==u.credentials,u.headers)n.setRequestHeader(a,u.headers[a]);n.send(u.body||null)})))];case 2:return c=s.sent(),a={ok:c.ok},[4,c.json()];case 3:return[2,(a.json=s.sent(),a)]}var l,u,d,g}))}))},sl=function(t,e,n,i,r,o){void 0===o&&(o=1e4);var c,a=new AbortController,s=a.signal,l=Wr(Wr({},i),{signal:s});return Promise.race([al(t,e,n,l,o,r),new Promise((function(t,e){c=setTimeout((function(){a.abort(),e(new Error("Timeout when executing 'fetch'"))}),o)}))]).finally((function(){clearTimeout(c)}))},ll=function(t,e,n,i,r,o){return Ar(void 0,void 0,void 0,(function(){var c,a,s,l,u,d,g,f,m,h;return Lr(this,(function(I){switch(I.label){case 0:c=null,s=0,I.label=1;case 1:if(!(s<3))return[3,6];I.label=2;case 2:return I.trys.push([2,4,,5]),[4,sl(t,n,i,r,o,e)];case 3:return a=I.sent(),c=null,[3,6];case 4:return l=I.sent(),c=l,[3,5];case 5:return s++,[3,1];case 6:if(c)throw c.message=c.message||"Failed to fetch",c;if(u=a.json,d=u.error,g=u.error_description,f=Qr(u,["error","error_description"]),!a.ok)throw m=g||"HTTP error. Unable to fetch "+t,(h=new Error(m)).error=d||"request_error",h.error_description=m,h;return[2,f]}}))}))},ul=function(t,e){return Ar(void 0,void 0,void 0,(function(){var n=t.baseUrl,i=t.timeout,r=t.audience,o=t.scope,c=Qr(t,["baseUrl","timeout","audience","scope"]);return Lr(this,(function(t){switch(t.label){case 0:return[4,ll(n+"/oauth/token",i,r||"default",o,{method:"POST",body:JSON.stringify(Wr({redirect_uri:window.location.origin},c)),headers:{"Content-type":"application/json"}},e)];case 1:return[2,t.sent()]}}))}))},dl=function(t){return Array.from(new Set(t))},gl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return dl(t.join(" ").trim().split(/\s+/)).join(" ")},fl=function(t){return"@@auth0spajs@@::"+t.client_id+"::"+t.audience+"::"+t.scope},ml=function(t){var e=Math.floor(Date.now()/1e3)+t.expires_in;return{body:t,expiresAt:Math.min(e,t.decodedToken.claims.exp)}},hl=function(){function t(){}return t.prototype.save=function(t){var e=fl(t),n=ml(t);window.localStorage.setItem(e,JSON.stringify(n))},t.prototype.get=function(t,e){void 0===e&&(e=0);var n=fl(t),i=this.readJson(n),r=Math.floor(Date.now()/1e3);if(i){if(!(i.expiresAt-e<r))return i.body;if(i.body.refresh_token){var o=this.stripData(i);return this.writeJson(n,o),o.body}localStorage.removeItem(n)}},t.prototype.clear=function(){for(var t=localStorage.length-1;t>=0;t--)localStorage.key(t).startsWith("@@auth0spajs@@")&&localStorage.removeItem(localStorage.key(t))},t.prototype.readJson=function(t){var e,n=window.localStorage.getItem(t);if(n&&(e=JSON.parse(n)))return e},t.prototype.writeJson=function(t,e){localStorage.setItem(t,JSON.stringify(e))},t.prototype.stripData=function(t){return{body:{refresh_token:t.body.refresh_token},expiresAt:t.expiresAt}},t}(),Il=function(){this.enclosedCache=function(){var t={body:{},expiresAt:0};return{save:function(e){var n=fl(e),i=ml(e);t[n]=i},get:function(e,n){void 0===n&&(n=0);var i=fl(e),r=t[i],o=Math.floor(Date.now()/1e3);if(r)return r.expiresAt-n<o?r.body.refresh_token?(r.body={refresh_token:r.body.refresh_token},r.body):void delete t[i]:r.body},clear:function(){t={body:{},expiresAt:0}}}}()},bl=function(){function t(t){this.storage=t,this.transaction=this.storage.get("a0.spajs.txs")}return t.prototype.create=function(t){this.transaction=t,this.storage.save("a0.spajs.txs",t,{daysUntilExpire:1})},t.prototype.get=function(){return this.transaction},t.prototype.remove=function(){delete this.transaction,this.storage.remove("a0.spajs.txs")},t}(),pl=function(t){return"number"==typeof t},yl=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Bl=Nr((function(t,e){var n=Hr&&Hr.__assign||function(){return(n=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function i(t,e){if(!e)return"";var n="; "+t;return!0===e?n:n+"="+e}function r(t,e,n){return encodeURIComponent(t).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(e).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(t){if("number"==typeof t.expires){var e=new Date;e.setMilliseconds(e.getMilliseconds()+864e5*t.expires),t.expires=e}return i("Expires",t.expires?t.expires.toUTCString():"")+i("Domain",t.domain)+i("Path",t.path)+i("Secure",t.secure)+i("SameSite",t.sameSite)}(n)}function o(t){for(var e={},n=t?t.split("; "):[],i=/(%[\dA-F]{2})+/gi,r=0;r<n.length;r++){var o=n[r].split("="),c=o.slice(1).join("=");'"'===c.charAt(0)&&(c=c.slice(1,-1));try{e[o[0].replace(i,decodeURIComponent)]=c.replace(i,decodeURIComponent)}catch(t){}}return e}function c(){return o(document.cookie)}function a(t,e,i){document.cookie=r(t,e,n({path:"/"},i))}e.__esModule=!0,e.encode=r,e.parse=o,e.getAll=c,e.get=function(t){return c()[t]},e.set=a,e.remove=function(t,e){a(t,"",n(n({},e),{expires:-1}))}}));Jr(Bl),Bl.encode,Bl.parse,Bl.getAll;var Cl=Bl.get,Fl=Bl.set,Ul=Bl.remove,vl={get:function(t){var e=Cl(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e,n){var i={};"https:"===window.location.protocol&&(i={secure:!0,sameSite:"none"}),i.expires=n.daysUntilExpire,Fl(t,JSON.stringify(e),i)},remove:function(t){Ul(t)}},Vl={get:function(t){return vl.get(t)||vl.get("_legacy_"+t)},save:function(t,e,n){var i={};"https:"===window.location.protocol&&(i={secure:!0}),i.expires=n.daysUntilExpire,Fl("_legacy_"+t,JSON.stringify(e),i),vl.save(t,e,n)},remove:function(t){vl.remove(t),vl.remove("_legacy_"+t)}},Sl={get:function(t){var e=sessionStorage.getItem(t);if(void 0!==e)return JSON.parse(e)},save:function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},remove:function(t){sessionStorage.removeItem(t)}};var Zl,wl=("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",!1,function(t){return Zl=Zl||function(t,e,n){var i=void 0===e?null:e,r=function(t,e){var n=atob(t);if(e){for(var i=new Uint8Array(n.length),r=0,o=n.length;r<o;++r)i[r]=n.charCodeAt(r);return String.fromCharCode.apply(null,new Uint16Array(i.buffer))}return n}(t,void 0!==n&&n),o=r.indexOf("\n",10)+1,c=r.substring(o)+(i?"//# sourceMappingURL="+i:""),a=new Blob([c],{type:"application/javascript"});return URL.createObjectURL(a)}("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwovKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioKQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuCkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOyB5b3UgbWF5IG5vdCB1c2UKdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUKTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKClRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkKS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRApXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLApNRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULgoKU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zCmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi8KdmFyIGU9ZnVuY3Rpb24oKXtyZXR1cm4oZT1PYmplY3QuYXNzaWdufHxmdW5jdGlvbihlKXtmb3IodmFyIHIsdD0xLG49YXJndW1lbnRzLmxlbmd0aDt0PG47dCsrKWZvcih2YXIgbyBpbiByPWFyZ3VtZW50c1t0XSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocixvKSYmKGVbb109cltvXSk7cmV0dXJuIGV9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O2Z1bmN0aW9uIHIoZSxyKXt2YXIgdCxuLG8scyxhPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJm9bMF0pdGhyb3cgb1sxXTtyZXR1cm4gb1sxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBzPXtuZXh0OmkoMCksdGhyb3c6aSgxKSxyZXR1cm46aSgyKX0sImZ1bmN0aW9uIj09dHlwZW9mIFN5bWJvbCYmKHNbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSkscztmdW5jdGlvbiBpKHMpe3JldHVybiBmdW5jdGlvbihpKXtyZXR1cm4gZnVuY3Rpb24ocyl7aWYodCl0aHJvdyBuZXcgVHlwZUVycm9yKCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuIik7Zm9yKDthOyl0cnl7aWYodD0xLG4mJihvPTImc1swXT9uLnJldHVybjpzWzBdP24udGhyb3d8fCgobz1uLnJldHVybikmJm8uY2FsbChuKSwwKTpuLm5leHQpJiYhKG89by5jYWxsKG4sc1sxXSkpLmRvbmUpcmV0dXJuIG87c3dpdGNoKG49MCxvJiYocz1bMiZzWzBdLG8udmFsdWVdKSxzWzBdKXtjYXNlIDA6Y2FzZSAxOm89czticmVhaztjYXNlIDQ6cmV0dXJuIGEubGFiZWwrKyx7dmFsdWU6c1sxXSxkb25lOiExfTtjYXNlIDU6YS5sYWJlbCsrLG49c1sxXSxzPVswXTtjb250aW51ZTtjYXNlIDc6cz1hLm9wcy5wb3AoKSxhLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKG89YS50cnlzLChvPW8ubGVuZ3RoPjAmJm9bby5sZW5ndGgtMV0pfHw2IT09c1swXSYmMiE9PXNbMF0pKXthPTA7Y29udGludWV9aWYoMz09PXNbMF0mJighb3x8c1sxXT5vWzBdJiZzWzFdPG9bM10pKXthLmxhYmVsPXNbMV07YnJlYWt9aWYoNj09PXNbMF0mJmEubGFiZWw8b1sxXSl7YS5sYWJlbD1vWzFdLG89czticmVha31pZihvJiZhLmxhYmVsPG9bMl0pe2EubGFiZWw9b1syXSxhLm9wcy5wdXNoKHMpO2JyZWFrfW9bMl0mJmEub3BzLnBvcCgpLGEudHJ5cy5wb3AoKTtjb250aW51ZX1zPXIuY2FsbChlLGEpfWNhdGNoKGUpe3M9WzYsZV0sbj0wfWZpbmFsbHl7dD1vPTB9aWYoNSZzWzBdKXRocm93IHNbMV07cmV0dXJue3ZhbHVlOnNbMF0/c1sxXTp2b2lkIDAsZG9uZTohMH19KFtzLGldKX19fXZhciB0PXt9LG49ZnVuY3Rpb24oZSxyKXtyZXR1cm4gZSsifCIrcn07YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGZ1bmN0aW9uKG8pe3ZhciBzLGEsaSx1LGMsbCxmLHAsaCx5LGI7cmV0dXJuIHA9dm9pZCAwLGg9dm9pZCAwLGI9ZnVuY3Rpb24oKXt2YXIgcCxoLHksYixkLHYsdyxnO3JldHVybiByKHRoaXMsKGZ1bmN0aW9uKHIpe3N3aXRjaChyLmxhYmVsKXtjYXNlIDA6cz1vLmRhdGEsYT1zLnVybCxpPXMudGltZW91dCx1PXMuYXVkaWVuY2UsYz1zLnNjb3BlLGw9ZnVuY3Rpb24oZSxyKXt2YXIgdD17fTtmb3IodmFyIG4gaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxuKSYmci5pbmRleE9mKG4pPDAmJih0W25dPWVbbl0pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxuLmxlbmd0aDtvKyspci5pbmRleE9mKG5bb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLG5bb10pJiYodFtuW29dXT1lW25bb11dKX1yZXR1cm4gdH0ocyxbInVybCIsInRpbWVvdXQiLCJhdWRpZW5jZSIsInNjb3BlIl0pLGY9by5wb3J0c1swXSxyLmxhYmVsPTE7Y2FzZSAxOmlmKHIudHJ5cy5wdXNoKFsxLDcsLDhdKSwhKGg9SlNPTi5wYXJzZShsLmJvZHkpKS5yZWZyZXNoX3Rva2VuJiYicmVmcmVzaF90b2tlbiI9PT1oLmdyYW50X3R5cGUpe2lmKCEoeT1mdW5jdGlvbihlLHIpe3JldHVybiB0W24oZSxyKV19KHUsYykpKXRocm93IG5ldyBFcnJvcigiVGhlIHdlYiB3b3JrZXIgaXMgbWlzc2luZyB0aGUgcmVmcmVzaCB0b2tlbiIpO2wuYm9keT1KU09OLnN0cmluZ2lmeShlKGUoe30saCkse3JlZnJlc2hfdG9rZW46eX0pKX1iPW5ldyBBYm9ydENvbnRyb2xsZXIsZD1iLnNpZ25hbCx2PXZvaWQgMCxyLmxhYmVsPTI7Y2FzZSAyOnJldHVybiByLnRyeXMucHVzaChbMiw0LCw1XSksWzQsUHJvbWlzZS5yYWNlKFsoaz1pLG5ldyBQcm9taXNlKChmdW5jdGlvbihlKXtyZXR1cm4gc2V0VGltZW91dChlLGspfSkpKSxmZXRjaChhLGUoZSh7fSxsKSx7c2lnbmFsOmR9KSldKV07Y2FzZSAzOnJldHVybiB2PXIuc2VudCgpLFszLDVdO2Nhc2UgNDpyZXR1cm4gdz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtlcnJvcjp3Lm1lc3NhZ2V9KSxbMl07Y2FzZSA1OnJldHVybiB2P1s0LHYuanNvbigpXTooYi5hYm9ydCgpLFsyXSk7Y2FzZSA2OnJldHVybihwPXIuc2VudCgpKS5yZWZyZXNoX3Rva2VuPyhmdW5jdGlvbihlLHIsbyl7dFtuKHIsbyldPWV9KHAucmVmcmVzaF90b2tlbix1LGMpLGRlbGV0ZSBwLnJlZnJlc2hfdG9rZW4pOmZ1bmN0aW9uKGUscil7ZGVsZXRlIHRbbihlLHIpXX0odSxjKSxmLnBvc3RNZXNzYWdlKHtvazp2Lm9rLGpzb246cH0pLFszLDhdO2Nhc2UgNzpyZXR1cm4gZz1yLnNlbnQoKSxmLnBvc3RNZXNzYWdlKHtvazohMSxqc29uOntlcnJvcl9kZXNjcmlwdGlvbjpnLm1lc3NhZ2V9fSksWzMsOF07Y2FzZSA4OnJldHVyblsyXX12YXIga30pKX0sbmV3KCh5PXZvaWQgMCl8fCh5PVByb21pc2UpKSgoZnVuY3Rpb24oZSxyKXtmdW5jdGlvbiB0KGUpe3RyeXtvKGIubmV4dChlKSl9Y2F0Y2goZSl7cihlKX19ZnVuY3Rpb24gbihlKXt0cnl7byhiLnRocm93KGUpKX1jYXRjaChlKXtyKGUpfX1mdW5jdGlvbiBvKHIpe3IuZG9uZT9lKHIudmFsdWUpOm5ldyB5KChmdW5jdGlvbihlKXtlKHIudmFsdWUpfSkpLnRoZW4odCxuKX1vKChiPWIuYXBwbHkocCxofHxbXSkpLm5leHQoKSl9KSl9KSk7Cgo=","data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG9rZW4ud29ya2VyLmpzIiwic291cmNlcyI6WyJ3b3JrZXI6Ly93ZWItd29ya2VyL25vZGVfbW9kdWxlcy90c2xpYi90c2xpYi5lczYuanMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy9jb25zdGFudHMudHMiLCJ3b3JrZXI6Ly93ZWItd29ya2VyL3NyYy90b2tlbi53b3JrZXIudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDAgJiYgT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMsIHBbaV0pKVxyXG4gICAgICAgICAgICAgICAgdFtwW2ldXSA9IHNbcFtpXV07XHJcbiAgICAgICAgfVxyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheXMoKSB7XHJcbiAgICBmb3IgKHZhciBzID0gMCwgaSA9IDAsIGlsID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGlsOyBpKyspIHMgKz0gYXJndW1lbnRzW2ldLmxlbmd0aDtcclxuICAgIGZvciAodmFyIHIgPSBBcnJheShzKSwgayA9IDAsIGkgPSAwOyBpIDwgaWw7IGkrKylcclxuICAgICAgICBmb3IgKHZhciBhID0gYXJndW1lbnRzW2ldLCBqID0gMCwgamwgPSBhLmxlbmd0aDsgaiA8IGpsOyBqKyssIGsrKylcclxuICAgICAgICAgICAgcltrXSA9IGFbal07XHJcbiAgICByZXR1cm4gcjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0KHYpIHtcclxuICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgX19hd2FpdCA/ICh0aGlzLnYgPSB2LCB0aGlzKSA6IG5ldyBfX2F3YWl0KHYpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0dlbmVyYXRvcih0aGlzQXJnLCBfYXJndW1lbnRzLCBnZW5lcmF0b3IpIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgZyA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSwgaSwgcSA9IFtdO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlmIChnW25dKSBpW25dID0gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChhLCBiKSB7IHEucHVzaChbbiwgdiwgYSwgYl0pID4gMSB8fCByZXN1bWUobiwgdik7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiByZXN1bWUobiwgdikgeyB0cnkgeyBzdGVwKGdbbl0odikpOyB9IGNhdGNoIChlKSB7IHNldHRsZShxWzBdWzNdLCBlKTsgfSB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKHIpIHsgci52YWx1ZSBpbnN0YW5jZW9mIF9fYXdhaXQgPyBQcm9taXNlLnJlc29sdmUoci52YWx1ZS52KS50aGVuKGZ1bGZpbGwsIHJlamVjdCkgOiBzZXR0bGUocVswXVsyXSwgcik7IH1cclxuICAgIGZ1bmN0aW9uIGZ1bGZpbGwodmFsdWUpIHsgcmVzdW1lKFwibmV4dFwiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHJlamVjdCh2YWx1ZSkgeyByZXN1bWUoXCJ0aHJvd1wiLCB2YWx1ZSk7IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShmLCB2KSB7IGlmIChmKHYpLCBxLnNoaWZ0KCksIHEubGVuZ3RoKSByZXN1bWUocVswXVswXSwgcVswXVsxXSk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNEZWxlZ2F0b3Iobykge1xyXG4gICAgdmFyIGksIHA7XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIsIGZ1bmN0aW9uIChlKSB7IHRocm93IGU7IH0pLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuLCBmKSB7IGlbbl0gPSBvW25dID8gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIChwID0gIXApID8geyB2YWx1ZTogX19hd2FpdChvW25dKHYpKSwgZG9uZTogbiA9PT0gXCJyZXR1cm5cIiB9IDogZiA/IGYodikgOiB2OyB9IDogZjsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY1ZhbHVlcyhvKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIG0gPSBvW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSwgaTtcclxuICAgIHJldHVybiBtID8gbS5jYWxsKG8pIDogKG8gPSB0eXBlb2YgX192YWx1ZXMgPT09IFwiZnVuY3Rpb25cIiA/IF9fdmFsdWVzKG8pIDogb1tTeW1ib2wuaXRlcmF0b3JdKCksIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiKSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzOyB9LCBpKTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpW25dID0gb1tuXSAmJiBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgeyB2ID0gb1tuXSh2KSwgc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgdi5kb25lLCB2LnZhbHVlKTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHNldHRsZShyZXNvbHZlLCByZWplY3QsIGQsIHYpIHsgUHJvbWlzZS5yZXNvbHZlKHYpLnRoZW4oZnVuY3Rpb24odikgeyByZXNvbHZlKHsgdmFsdWU6IHYsIGRvbmU6IGQgfSk7IH0sIHJlamVjdCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWFrZVRlbXBsYXRlT2JqZWN0KGNvb2tlZCwgcmF3KSB7XHJcbiAgICBpZiAoT2JqZWN0LmRlZmluZVByb3BlcnR5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShjb29rZWQsIFwicmF3XCIsIHsgdmFsdWU6IHJhdyB9KTsgfSBlbHNlIHsgY29va2VkLnJhdyA9IHJhdzsgfVxyXG4gICAgcmV0dXJuIGNvb2tlZDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIHJlc3VsdFtrXSA9IG1vZFtrXTtcclxuICAgIHJlc3VsdC5kZWZhdWx0ID0gbW9kO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUG9wdXBDb25maWdPcHRpb25zIH0gZnJvbSAnLi9nbG9iYWwnO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfQVVUSE9SSVpFX1RJTUVPVVRfSU5fU0VDT05EUyA9IDYwO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUE9QVVBfQ09ORklHX09QVElPTlM6IFBvcHVwQ29uZmlnT3B0aW9ucyA9IHtcbiAgdGltZW91dEluU2Vjb25kczogREVGQVVMVF9BVVRIT1JJWkVfVElNRU9VVF9JTl9TRUNPTkRTXG59O1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0lMRU5UX1RPS0VOX1JFVFJZX0NPVU5UID0gMztcblxuLyoqXG4gKiBAaWdub3JlXG4gKi9cbmV4cG9ydCBjb25zdCBDTEVBTlVQX0lGUkFNRV9USU1FT1VUX0lOX1NFQ09ORFMgPSAyO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfRkVUQ0hfVElNRU9VVF9NUyA9IDEwMDAwO1xuXG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTUVNT1JZID0gJ21lbW9yeSc7XG5leHBvcnQgY29uc3QgQ0FDSEVfTE9DQVRJT05fTE9DQUxfU1RPUkFHRSA9ICdsb2NhbHN0b3JhZ2UnO1xuZXhwb3J0IGNvbnN0IE1JU1NJTkdfUkVGUkVTSF9UT0tFTl9FUlJPUl9NRVNTQUdFID1cbiAgJ1RoZSB3ZWIgd29ya2VyIGlzIG1pc3NpbmcgdGhlIHJlZnJlc2ggdG9rZW4nO1xuXG4vKipcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfU0NPUEUgPSAnb3BlbmlkIHByb2ZpbGUgZW1haWwnO1xuXG4vKipcbiAqIEEgbGlzdCBvZiBlcnJvcnMgdGhhdCBjYW4gYmUgaXNzdWVkIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlciB3aGljaCB0aGVcbiAqIHVzZXIgY2FuIHJlY292ZXIgZnJvbSBieSBzaWduaW5nIGluIGludGVyYWN0aXZlbHkuXG4gKiBodHRwczovL29wZW5pZC5uZXQvc3BlY3Mvb3BlbmlkLWNvbm5lY3QtY29yZS0xXzAuaHRtbCNBdXRoRXJyb3JcbiAqIEBpZ25vcmVcbiAqL1xuZXhwb3J0IGNvbnN0IFJFQ09WRVJBQkxFX0VSUk9SUyA9IFtcbiAgJ2xvZ2luX3JlcXVpcmVkJyxcbiAgJ2NvbnNlbnRfcmVxdWlyZWQnLFxuICAnaW50ZXJhY3Rpb25fcmVxdWlyZWQnLFxuICAnYWNjb3VudF9zZWxlY3Rpb25fcmVxdWlyZWQnLFxuICAvLyBTdHJpY3RseSBzcGVha2luZyB0aGUgdXNlciBjYW4ndCByZWNvdmVyIGZyb20gYGFjY2Vzc19kZW5pZWRgIC0gYnV0IHRoZXlcbiAgLy8gY2FuIGdldCBtb3JlIGluZm9ybWF0aW9uIGFib3V0IHRoZWlyIGFjY2VzcyBiZWluZyBkZW5pZWQgYnkgbG9nZ2luZyBpblxuICAvLyBpbnRlcmFjdGl2ZWx5LlxuICAnYWNjZXNzX2RlbmllZCdcbl07XG4iLCJpbXBvcnQgeyBNSVNTSU5HX1JFRlJFU0hfVE9LRU5fRVJST1JfTUVTU0FHRSB9IGZyb20gJy4vY29uc3RhbnRzJztcblxubGV0IHJlZnJlc2hUb2tlbnMgPSB7fTtcblxuY29uc3QgY2FjaGVLZXkgPSAoYXVkaWVuY2UsIHNjb3BlKSA9PiBgJHthdWRpZW5jZX18JHtzY29wZX1gO1xuXG5jb25zdCBnZXRSZWZyZXNoVG9rZW4gPSAoYXVkaWVuY2UsIHNjb3BlKSA9PlxuICByZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldO1xuXG5jb25zdCBzZXRSZWZyZXNoVG9rZW4gPSAocmVmcmVzaFRva2VuLCBhdWRpZW5jZSwgc2NvcGUpID0+XG4gIChyZWZyZXNoVG9rZW5zW2NhY2hlS2V5KGF1ZGllbmNlLCBzY29wZSldID0gcmVmcmVzaFRva2VuKTtcblxuY29uc3QgZGVsZXRlUmVmcmVzaFRva2VuID0gKGF1ZGllbmNlLCBzY29wZSkgPT5cbiAgZGVsZXRlIHJlZnJlc2hUb2tlbnNbY2FjaGVLZXkoYXVkaWVuY2UsIHNjb3BlKV07XG5cbmNvbnN0IHdhaXQ6IGFueSA9IHRpbWUgPT4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiBzZXRUaW1lb3V0KHJlc29sdmUsIHRpbWUpKTtcblxuY29uc3QgbWVzc2FnZUhhbmRsZXIgPSBhc3luYyAoe1xuICBkYXRhOiB7IHVybCwgdGltZW91dCwgYXVkaWVuY2UsIHNjb3BlLCAuLi5vcHRzIH0sXG4gIHBvcnRzOiBbcG9ydF1cbn0pID0+IHtcbiAgbGV0IGpzb247XG4gIHRyeSB7XG4gICAgY29uc3QgYm9keSA9IEpTT04ucGFyc2Uob3B0cy5ib2R5KTtcbiAgICBpZiAoIWJvZHkucmVmcmVzaF90b2tlbiAmJiBib2R5LmdyYW50X3R5cGUgPT09ICdyZWZyZXNoX3Rva2VuJykge1xuICAgICAgY29uc3QgcmVmcmVzaFRva2VuID0gZ2V0UmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgICBpZiAoIXJlZnJlc2hUb2tlbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoTUlTU0lOR19SRUZSRVNIX1RPS0VOX0VSUk9SX01FU1NBR0UpO1xuICAgICAgfVxuICAgICAgb3B0cy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoeyAuLi5ib2R5LCByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW4gfSk7XG4gICAgfVxuXG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHsgc2lnbmFsIH0gPSBhYm9ydENvbnRyb2xsZXI7XG5cbiAgICBsZXQgcmVzcG9uc2U7XG4gICAgdHJ5IHtcbiAgICAgIHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5yYWNlKFtcbiAgICAgICAgd2FpdCh0aW1lb3V0KSxcbiAgICAgICAgZmV0Y2godXJsLCB7IC4uLm9wdHMsIHNpZ25hbCB9KVxuICAgICAgXSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIGZldGNoIGVycm9yLCByZWplY3QgYHNlbmRNZXNzYWdlYCB1c2luZyBgZXJyb3JgIGtleSBzbyB0aGF0IHdlIHJldHJ5LlxuICAgICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoIXJlc3BvbnNlKSB7XG4gICAgICAvLyBJZiB0aGUgcmVxdWVzdCB0aW1lcyBvdXQsIGFib3J0IGl0IGFuZCBsZXQgYGZldGNoV2l0aFRpbWVvdXRgIHJhaXNlIHRoZSBlcnJvci5cbiAgICAgIGFib3J0Q29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGpzb24gPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cbiAgICBpZiAoanNvbi5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICBzZXRSZWZyZXNoVG9rZW4oanNvbi5yZWZyZXNoX3Rva2VuLCBhdWRpZW5jZSwgc2NvcGUpO1xuICAgICAgZGVsZXRlIGpzb24ucmVmcmVzaF90b2tlbjtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVsZXRlUmVmcmVzaFRva2VuKGF1ZGllbmNlLCBzY29wZSk7XG4gICAgfVxuXG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogcmVzcG9uc2Uub2ssXG4gICAgICBqc29uXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcG9ydC5wb3N0TWVzc2FnZSh7XG4gICAgICBvazogZmFsc2UsXG4gICAgICBqc29uOiB7XG4gICAgICAgIGVycm9yX2Rlc2NyaXB0aW9uOiBlcnJvci5tZXNzYWdlXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIERvbid0IHJ1biBgYWRkRXZlbnRMaXN0ZW5lcmAgaW4gb3VyIHRlc3RzICh0aGlzIGlzIHJlcGxhY2VkIGluIHJvbGx1cClcbi8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICAqL1xuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAndGVzdCcpIHtcbiAgbW9kdWxlLmV4cG9ydHMgPSB7IG1lc3NhZ2VIYW5kbGVyIH07XG59IGVsc2Uge1xuICAvLyBAdHMtaWdub3JlXG4gIGFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBtZXNzYWdlSGFuZGxlcik7XG59XG4iXSwibmFtZXMiOlsiX19hc3NpZ24iLCJPYmplY3QiLCJhc3NpZ24iLCJ0IiwicyIsImkiLCJuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsImFwcGx5IiwidGhpcyIsIl9fZ2VuZXJhdG9yIiwidGhpc0FyZyIsImJvZHkiLCJmIiwieSIsImciLCJfIiwibGFiZWwiLCJzZW50IiwidHJ5cyIsIm9wcyIsIm5leHQiLCJ2ZXJiIiwidGhyb3ciLCJyZXR1cm4iLCJTeW1ib2wiLCJpdGVyYXRvciIsInYiLCJvcCIsIlR5cGVFcnJvciIsImRvbmUiLCJ2YWx1ZSIsInBvcCIsInB1c2giLCJlIiwic3RlcCIsInJlZnJlc2hUb2tlbnMiLCJjYWNoZUtleSIsImF1ZGllbmNlIiwic2NvcGUiLCJhZGRFdmVudExpc3RlbmVyIiwiX2EiLCJfYXJndW1lbnRzIiwiUCIsImdlbmVyYXRvciIsIl9iIiwidXJsIiwidGltZW91dCIsIm9wdHMiLCJpbmRleE9mIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwicHJvcGVydHlJc0VudW1lcmFibGUiLCJwb3J0IiwiSlNPTiIsInBhcnNlIiwicmVmcmVzaF90b2tlbiIsImdyYW50X3R5cGUiLCJyZWZyZXNoVG9rZW4iLCJnZXRSZWZyZXNoVG9rZW4iLCJFcnJvciIsInN0cmluZ2lmeSIsImFib3J0Q29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInNpZ25hbCIsInJlc3BvbnNlIiwiUHJvbWlzZSIsInJhY2UiLCJ0aW1lIiwicmVzb2x2ZSIsInNldFRpbWVvdXQiLCJmZXRjaCIsIl9jIiwicG9zdE1lc3NhZ2UiLCJlcnJvciIsImVycm9yXzEiLCJtZXNzYWdlIiwianNvbiIsImFib3J0Iiwic2V0UmVmcmVzaFRva2VuIiwiZGVsZXRlUmVmcmVzaFRva2VuIiwib2siLCJlcnJvcl9kZXNjcmlwdGlvbiIsImVycm9yXzIiLCJyZWplY3QiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInRoZW4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBNkJPLElBQUlBLEVBQVcsV0FRbEIsT0FQQUEsRUFBV0MsT0FBT0MsUUFBVSxTQUFrQkMsR0FDMUMsSUFBSyxJQUFJQyxFQUFHQyxFQUFJLEVBQUdDLEVBQUlDLFVBQVVDLE9BQVFILEVBQUlDLEVBQUdELElBRTVDLElBQUssSUFBSUksS0FEVEwsRUFBSUcsVUFBVUYsR0FDT0osT0FBT1MsVUFBVUMsZUFBZUMsS0FBS1IsRUFBR0ssS0FBSU4sRUFBRU0sR0FBS0wsRUFBRUssSUFFOUUsT0FBT04sSUFFS1UsTUFBTUMsS0FBTVAsWUF1Q3pCLFNBQVNRLEVBQVlDLEVBQVNDLEdBQ2pDLElBQXNHQyxFQUFHQyxFQUFHaEIsRUFBR2lCLEVBQTNHQyxFQUFJLENBQUVDLE1BQU8sRUFBR0MsS0FBTSxXQUFhLEdBQVcsRUFBUHBCLEVBQUUsR0FBUSxNQUFNQSxFQUFFLEdBQUksT0FBT0EsRUFBRSxJQUFPcUIsS0FBTSxHQUFJQyxJQUFLLElBQ2hHLE9BQU9MLEVBQUksQ0FBRU0sS0FBTUMsRUFBSyxHQUFJQyxNQUFTRCxFQUFLLEdBQUlFLE9BQVVGLEVBQUssSUFBd0IsbUJBQVhHLFNBQTBCVixFQUFFVSxPQUFPQyxVQUFZLFdBQWEsT0FBT2pCLE9BQVVNLEVBQ3ZKLFNBQVNPLEVBQUtyQixHQUFLLE9BQU8sU0FBVTBCLEdBQUssT0FDekMsU0FBY0MsR0FDVixHQUFJZixFQUFHLE1BQU0sSUFBSWdCLFVBQVUsbUNBQzNCLEtBQU9iLE9BQ0gsR0FBSUgsRUFBSSxFQUFHQyxJQUFNaEIsRUFBWSxFQUFSOEIsRUFBRyxHQUFTZCxFQUFVLE9BQUljLEVBQUcsR0FBS2QsRUFBUyxTQUFPaEIsRUFBSWdCLEVBQVUsU0FBTWhCLEVBQUVTLEtBQUtPLEdBQUksR0FBS0EsRUFBRU8sU0FBV3ZCLEVBQUlBLEVBQUVTLEtBQUtPLEVBQUdjLEVBQUcsS0FBS0UsS0FBTSxPQUFPaEMsRUFFM0osT0FESWdCLEVBQUksRUFBR2hCLElBQUc4QixFQUFLLENBQVMsRUFBUkEsRUFBRyxHQUFROUIsRUFBRWlDLFFBQ3pCSCxFQUFHLElBQ1AsS0FBSyxFQUFHLEtBQUssRUFBRzlCLEVBQUk4QixFQUFJLE1BQ3hCLEtBQUssRUFBYyxPQUFYWixFQUFFQyxRQUFnQixDQUFFYyxNQUFPSCxFQUFHLEdBQUlFLE1BQU0sR0FDaEQsS0FBSyxFQUFHZCxFQUFFQyxRQUFTSCxFQUFJYyxFQUFHLEdBQUlBLEVBQUssQ0FBQyxHQUFJLFNBQ3hDLEtBQUssRUFBR0EsRUFBS1osRUFBRUksSUFBSVksTUFBT2hCLEVBQUVHLEtBQUthLE1BQU8sU0FDeEMsUUFDSSxLQUFNbEMsRUFBSWtCLEVBQUVHLE1BQU1yQixFQUFJQSxFQUFFSyxPQUFTLEdBQUtMLEVBQUVBLEVBQUVLLE9BQVMsS0FBa0IsSUFBVnlCLEVBQUcsSUFBc0IsSUFBVkEsRUFBRyxJQUFXLENBQUVaLEVBQUksRUFBRyxTQUNqRyxHQUFjLElBQVZZLEVBQUcsTUFBYzlCLEdBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU04QixFQUFHLEdBQUs5QixFQUFFLElBQU0sQ0FBRWtCLEVBQUVDLE1BQVFXLEVBQUcsR0FBSSxNQUM5RSxHQUFjLElBQVZBLEVBQUcsSUFBWVosRUFBRUMsTUFBUW5CLEVBQUUsR0FBSSxDQUFFa0IsRUFBRUMsTUFBUW5CLEVBQUUsR0FBSUEsRUFBSThCLEVBQUksTUFDN0QsR0FBSTlCLEdBQUtrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJLENBQUVrQixFQUFFQyxNQUFRbkIsRUFBRSxHQUFJa0IsRUFBRUksSUFBSWEsS0FBS0wsR0FBSyxNQUN2RDlCLEVBQUUsSUFBSWtCLEVBQUVJLElBQUlZLE1BQ2hCaEIsRUFBRUcsS0FBS2EsTUFBTyxTQUV0QkosRUFBS2hCLEVBQUtMLEtBQUtJLEVBQVNLLEdBQzFCLE1BQU9rQixHQUFLTixFQUFLLENBQUMsRUFBR00sR0FBSXBCLEVBQUksVUFBZUQsRUFBSWYsRUFBSSxFQUN0RCxHQUFZLEVBQVI4QixFQUFHLEdBQVEsTUFBTUEsRUFBRyxHQUFJLE1BQU8sQ0FBRUcsTUFBT0gsRUFBRyxHQUFLQSxFQUFHLFFBQUssRUFBUUUsTUFBTSxHQXJCOUJLLENBQUssQ0FBQ2xDLEVBQUcwQixNQ2hEdEQsSUM3QkhTLEVBQWdCLEdBRWRDLEVBQVcsU0FBQ0MsRUFBVUMsR0FBVSxPQUFHRCxNQUFZQyxHQWdGbkRDLGlCQUFpQixXQW5FSSxTQUFPQyxxQkZrREo5QixFQUFTK0IsRUFBWUMsRUFBR0MsU0FBeEJqQyxTQUFTK0IsU0FBZUUsbUZFakRoREMsU0FBUUMsUUFBS0MsWUFBU1QsYUFBVUMsVUFBVVMsRUZzQnJDLFNBQWdCakQsRUFBR21DLEdBQ3RCLElBQUlwQyxFQUFJLEdBQ1IsSUFBSyxJQUFJTSxLQUFLTCxFQUFPSCxPQUFPUyxVQUFVQyxlQUFlQyxLQUFLUixFQUFHSyxJQUFNOEIsRUFBRWUsUUFBUTdDLEdBQUssSUFDOUVOLEVBQUVNLEdBQUtMLEVBQUVLLElBQ2IsR0FBUyxNQUFMTCxHQUFxRCxtQkFBakNILE9BQU9zRCxzQkFDdEIsQ0FBQSxJQUFJbEQsRUFBSSxFQUFiLElBQWdCSSxFQUFJUixPQUFPc0Qsc0JBQXNCbkQsR0FBSUMsRUFBSUksRUFBRUQsT0FBUUgsSUFDM0RrQyxFQUFFZSxRQUFRN0MsRUFBRUosSUFBTSxHQUFLSixPQUFPUyxVQUFVOEMscUJBQXFCNUMsS0FBS1IsRUFBR0ssRUFBRUosTUFDdkVGLEVBQUVNLEVBQUVKLElBQU1ELEVBQUVLLEVBQUVKLEtBRTFCLE9BQU9GLEtFL0JILHNDQUNFc0QsOEJBS04sMkJBRE14QyxFQUFPeUMsS0FBS0MsTUFBTU4sRUFBS3BDLE9BQ25CMkMsZUFBcUMsa0JBQXBCM0MsRUFBSzRDLFdBQWdDLENBRTlELEtBRE1DLEVBbkJZLFNBQUNuQixFQUFVQyxHQUNqQyxPQUFBSCxFQUFjQyxFQUFTQyxFQUFVQyxJQWtCUm1CLENBQWdCcEIsRUFBVUMsSUFFN0MsTUFBTSxJQUFJb0IsTURLaEIsK0NDSElYLEVBQUtwQyxLQUFPeUMsS0FBS08saUJBQWVoRCxJQUFNMkMsY0FBZUUsS0FHakRJLEVBQWtCLElBQUlDLGdCQUNwQkMsRUFBV0YsU0FFZkcsMEJBRVMsZ0NBQU1DLFFBQVFDLEtBQUssRUF0QmxCQyxFQXVCTHBCLEVBdkJhLElBQUlrQixTQUFRLFNBQUFHLEdBQVcsT0FBQUMsV0FBV0QsRUFBU0QsT0F3QjdERyxNQUFNeEIsU0FBVUUsSUFBTWUsNkJBRnhCQyxFQUFXTyxzQkFTWCxrQkFIQW5CLEVBQUtvQixZQUFZLENBQ2ZDLE1BQU9DLEVBQU1DLHFCQUtqQixPQUFLWCxLQU1RQSxFQUFTWSxTQUpwQmYsRUFBZ0JnQiwyQkFJbEJELEVBQU9MLFVBRUVoQixlQWhEVyxTQUFDRSxFQUFjbkIsRUFBVUMsR0FDOUNILEVBQWNDLEVBQVNDLEVBQVVDLElBQVVrQixFQWdEeENxQixDQUFnQkYsRUFBS3JCLGNBQWVqQixFQUFVQyxVQUN2Q3FDLEVBQUtyQixlQS9DUyxTQUFDakIsRUFBVUMsVUFDN0JILEVBQWNDLEVBQVNDLEVBQVVDLElBZ0RwQ3dDLENBQW1CekMsRUFBVUMsR0FHL0JhLEVBQUtvQixZQUFZLENBQ2ZRLEdBQUloQixFQUFTZ0IsR0FDYkosd0NBR0Z4QixFQUFLb0IsWUFBWSxDQUNmUSxJQUFJLEVBQ0pKLEtBQU0sQ0FDSkssa0JBQW1CQyxFQUFNUCxrQ0F6RGYsSUFBQVIsTUZxRFAsS0FEb0N4QixZQUN6QkEsRUFBSXNCLFdBQVUsU0FBVUcsRUFBU2UsR0FDL0MsU0FBU0MsRUFBVXJELEdBQVMsSUFBTUksRUFBS1MsRUFBVXZCLEtBQUtVLElBQVcsTUFBT0csR0FBS2lELEVBQU9qRCxJQUNwRixTQUFTbUQsRUFBU3RELEdBQVMsSUFBTUksRUFBS1MsRUFBaUIsTUFBRWIsSUFBVyxNQUFPRyxHQUFLaUQsRUFBT2pELElBQ3ZGLFNBQVNDLEVBQUttRCxHQUFVQSxFQUFPeEQsS0FBT3NDLEVBQVFrQixFQUFPdkQsT0FBUyxJQUFJWSxHQUFFLFNBQVV5QixHQUFXQSxFQUFRa0IsRUFBT3ZELFVBQVd3RCxLQUFLSCxFQUFXQyxHQUNuSWxELEdBQU1TLEVBQVlBLEVBQVVwQyxNQUFNRyxFQUFTK0IsR0FBYyxLQUFLckIifQ==",!1),new Worker(Zl,t)}),Xl=new Ks,Gl={memory:function(){return(new Il).enclosedCache},localstorage:function(){return new hl}},Rl=function(t){return Gl[t]},xl=function(){function t(t){var e,n,i,r;if(this.options=t,"undefined"!=typeof window&&function(){if(!$s())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(void 0===tl())throw new Error("\n      auth0-spa-js must run on a secure origin.\n      See https://github.com/auth0/auth0-spa-js/blob/master/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin \n      for more information.\n    ")}(),this.cacheLocation=t.cacheLocation||"memory",this.cookieStorage=!1===t.legacySameSiteCookie?vl:Vl,!Rl(this.cacheLocation))throw new Error('Invalid cache location "'+this.cacheLocation+'"');this.cache=Rl(this.cacheLocation)(),this.scope=this.options.scope,this.transactionManager=new bl(Sl),this.domainUrl="https://"+this.options.domain,this.tokenIssuer=(i=this.options.issuer,r=this.domainUrl,i?i.startsWith("https://")?i:"https://"+i+"/":r+"/"),this.defaultScope=gl("openid",void 0!==(null===(n=null===(e=this.options)||void 0===e?void 0:e.advancedOptions)||void 0===n?void 0:n.defaultScope)?this.options.advancedOptions.defaultScope:"openid profile email"),this.options.useRefreshTokens&&(this.scope=gl(this.scope,"offline_access")),"undefined"!=typeof window&&window.Worker&&this.options.useRefreshTokens&&"memory"===this.cacheLocation&&!/Trident.*rv:11\.0/.test(navigator.userAgent)&&(this.worker=new wl),this.customOptions=function(t){return t.advancedOptions,t.audience,t.auth0Client,t.authorizeTimeoutInSeconds,t.cacheLocation,t.client_id,t.domain,t.issuer,t.leeway,t.max_age,t.redirect_uri,t.scope,t.useRefreshTokens,Qr(t,["advancedOptions","audience","auth0Client","authorizeTimeoutInSeconds","cacheLocation","client_id","domain","issuer","leeway","max_age","redirect_uri","scope","useRefreshTokens"])}(t)}return t.prototype._url=function(t){var e=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||{name:"auth0-spa-js",version:"1.12.0"})));return""+this.domainUrl+t+"&auth0Client="+e},t.prototype._getParams=function(t,e,n,i,r){var o=this.options,c=(o.domain,o.leeway,o.useRefreshTokens,o.auth0Client,o.cacheLocation,o.advancedOptions,Qr(o,["domain","leeway","useRefreshTokens","auth0Client","cacheLocation","advancedOptions"]));return Wr(Wr(Wr({},c),t),{scope:gl(this.defaultScope,this.scope,t.scope),response_type:"code",response_mode:"query",state:e,nonce:n,redirect_uri:r||this.options.redirect_uri,code_challenge:i,code_challenge_method:"S256"})},t.prototype._authorizeUrl=function(t){return this._url("/authorize?"+il(t))},t.prototype._verifyIdToken=function(t,e){return function(t){if(!t.id_token)throw new Error("ID token is required but missing");var e=function(t){var e=t.split("."),n=e[0],i=e[1],r=e[2];if(3!==e.length||!n||!i||!r)throw new Error("ID token could not be decoded");var o=JSON.parse(ol(i)),c={__raw:t},a={};return Object.keys(o).forEach((function(t){c[t]=o[t],yl.includes(t)||(a[t]=o[t])})),{encoded:{header:n,payload:i,signature:r},header:JSON.parse(ol(n)),claims:c,user:a}}(t.id_token);if(!e.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(e.claims.iss!==t.iss)throw new Error('Issuer (iss) claim mismatch in the ID token; expected "'+t.iss+'", found "'+e.claims.iss+'"');if(!e.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if("RS256"!==e.header.alg)throw new Error('Signature algorithm of "'+e.header.alg+'" is not supported. Expected the ID token to be signed with "RS256".');if(!e.claims.aud||"string"!=typeof e.claims.aud&&!Array.isArray(e.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(e.claims.aud)){if(!e.claims.aud.includes(t.aud))throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but was not one of "'+e.claims.aud.join(", ")+'"');if(e.claims.aud.length>1){if(!e.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(e.claims.azp!==t.aud)throw new Error('Authorized Party (azp) claim mismatch in the ID token; expected "'+t.aud+'", found "'+e.claims.azp+'"')}}else if(e.claims.aud!==t.aud)throw new Error('Audience (aud) claim mismatch in the ID token; expected "'+t.aud+'" but found "'+e.claims.aud+'"');if(t.nonce){if(!e.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(e.claims.nonce!==t.nonce)throw new Error('Nonce (nonce) claim mismatch in the ID token; expected "'+t.nonce+'", found "'+e.claims.nonce+'"')}if(t.max_age&&!pl(e.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(!pl(e.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!pl(e.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");var n=t.leeway||60,i=new Date(Date.now()),r=new Date(0),o=new Date(0),c=new Date(0);if(c.setUTCSeconds(parseInt(e.claims.auth_time)+t.max_age+n),r.setUTCSeconds(e.claims.exp+n),o.setUTCSeconds(e.claims.nbf-n),i>r)throw new Error("Expiration Time (exp) claim error in the ID token; current time ("+i+") is after expiration time ("+r+")");if(pl(e.claims.nbf)&&i<o)throw new Error("Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Currrent time ("+i+") is before "+o);if(pl(e.claims.auth_time)&&i>c)throw new Error("Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Currrent time ("+i+") is after last auth at "+c);return e}({iss:this.tokenIssuer,aud:this.options.client_id,id_token:t,nonce:e,leeway:this.options.leeway,max_age:this._parseNumber(this.options.max_age)})},t.prototype._parseNumber=function(t){return"string"!=typeof t?t:parseInt(t,10)||void 0},t.prototype.buildAuthorizeUrl=function(t){return void 0===t&&(t={}),Ar(this,void 0,void 0,(function(){var e,n,i,r,o,c,a,s,l,u,d;return Lr(this,(function(g){switch(g.label){case 0:return e=t.redirect_uri,n=t.appState,i=Qr(t,["redirect_uri","appState"]),r=nl(el()),o=nl(el()),c=el(),[4,rl(c)];case 1:return a=g.sent(),s=cl(a),l=t.fragment?"#"+t.fragment:"",u=this._getParams(i,r,o,s,e),d=this._authorizeUrl(u),this.transactionManager.create({nonce:o,code_verifier:c,appState:n,scope:u.scope,audience:u.audience||"default",redirect_uri:u.redirect_uri}),[2,d+l]}}))}))},t.prototype.loginWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Ar(this,void 0,void 0,(function(){var n,i,r,o,c,a,s,l,u,d,g,f;return Lr(this,(function(m){switch(m.label){case 0:return n=Qr(t,[]),i=nl(el()),r=nl(el()),o=el(),[4,rl(o)];case 1:return c=m.sent(),a=cl(c),s=this._getParams(n,i,r,a,this.options.redirect_uri||window.location.origin),l=this._authorizeUrl(Wr(Wr({},s),{response_mode:"web_message"})),[4,_s(l,Wr(Wr({},e),{timeoutInSeconds:e.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}))];case 2:if(u=m.sent(),i!==u.state)throw new Error("Invalid state");return[4,ul({audience:s.audience,scope:s.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:o,code:u.code,grant_type:"authorization_code",redirect_uri:s.redirect_uri},this.worker)];case 3:return d=m.sent(),g=this._verifyIdToken(d.id_token,r),f=Wr(Wr({},d),{decodedToken:g,scope:s.scope,audience:s.audience||"default",client_id:this.options.client_id}),this.cache.save(f),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2]}}))}))},t.prototype.getUser=function(t){return void 0===t&&(t={}),Ar(this,void 0,void 0,(function(){var e,n,i;return Lr(this,(function(r){return e=t.audience||this.options.audience||"default",n=gl(this.defaultScope,this.scope,t.scope),[2,(i=this.cache.get({client_id:this.options.client_id,audience:e,scope:n}))&&i.decodedToken&&i.decodedToken.user]}))}))},t.prototype.getIdTokenClaims=function(t){return void 0===t&&(t={}),Ar(this,void 0,void 0,(function(){var e,n,i;return Lr(this,(function(r){return e=t.audience||this.options.audience||"default",n=gl(this.defaultScope,this.scope,t.scope),[2,(i=this.cache.get({client_id:this.options.client_id,audience:e,scope:n}))&&i.decodedToken&&i.decodedToken.claims]}))}))},t.prototype.loginWithRedirect=function(t){return void 0===t&&(t={}),Ar(this,void 0,void 0,(function(){var e;return Lr(this,(function(n){switch(n.label){case 0:return[4,this.buildAuthorizeUrl(t)];case 1:return e=n.sent(),window.location.assign(e),[2]}}))}))},t.prototype.handleRedirectCallback=function(t){return void 0===t&&(t=window.location.href),Ar(this,void 0,void 0,(function(){var e,n,i,r,o,c,a,s,l,u,d;return Lr(this,(function(g){switch(g.label){case 0:if(0===(e=t.split("?").slice(1)).length)throw new Error("There are no query params available for parsing.");if(n=function(t){t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#")));var e=t.split("&"),n={};return e.forEach((function(t){var e=t.split("="),i=e[0],r=e[1];n[i]=decodeURIComponent(r)})),Wr(Wr({},n),{expires_in:parseInt(n.expires_in)})}(e.join("")),i=n.state,r=n.code,o=n.error,c=n.error_description,!(a=this.transactionManager.get())||!a.code_verifier||!a.nonce)throw new Error("Invalid state");if(o)throw this.transactionManager.remove(),new Os(o,c,i,a.appState);return this.transactionManager.remove(),s={audience:a.audience,scope:a.scope,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:a.code_verifier,grant_type:"authorization_code",code:r},void 0!==a.redirect_uri&&(s.redirect_uri=a.redirect_uri),[4,ul(s,this.worker)];case 1:return l=g.sent(),u=this._verifyIdToken(l.id_token,a.nonce),d=Wr(Wr({},l),{decodedToken:u,audience:a.audience,scope:a.scope,client_id:this.options.client_id}),this.cache.save(d),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,{appState:a.appState}]}}))}))},t.prototype.checkSession=function(t){return Ar(this,void 0,void 0,(function(){var e;return Lr(this,(function(n){switch(n.label){case 0:if("memory"===this.cacheLocation&&!this.cookieStorage.get("auth0.is.authenticated"))return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.getTokenSilently(t)];case 2:return n.sent(),[3,4];case 3:if(e=n.sent(),!zs.includes(e.error))throw e;return[3,4];case 4:return[2]}}))}))},t.prototype.getTokenSilently=function(t){return void 0===t&&(t={}),Ar(this,void 0,void 0,(function(){var e,n,i,r,o,c,a,s=this;return Lr(this,(function(l){switch(l.label){case 0:if(e=Wr(Wr({audience:this.options.audience,ignoreCache:!1},t),{scope:gl(this.defaultScope,this.scope,t.scope)}),n=e.ignoreCache,i=Qr(e,["ignoreCache"]),r=function(){var t=s.cache.get({scope:i.scope,audience:i.audience||"default",client_id:s.options.client_id},60);return t&&t.access_token},!n&&(o=r()))return[2,o];l.label=1;case 1:return l.trys.push([1,7,8,10]),[4,Xl.acquireLock("auth0.lock.getTokenSilently",5e3)];case 2:return l.sent(),!n&&(o=r())?[2,o]:this.options.useRefreshTokens?[4,this._getTokenUsingRefreshToken(i)]:[3,4];case 3:return a=l.sent(),[3,6];case 4:return[4,this._getTokenFromIFrame(i)];case 5:a=l.sent(),l.label=6;case 6:return c=a,this.cache.save(Wr({client_id:this.options.client_id},c)),this.cookieStorage.save("auth0.is.authenticated",!0,{daysUntilExpire:1}),[2,c.access_token];case 7:throw l.sent();case 8:return[4,Xl.releaseLock("auth0.lock.getTokenSilently")];case 9:return l.sent(),[7];case 10:return[2]}}))}))},t.prototype.getTokenWithPopup=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),Ar(this,void 0,void 0,(function(){return Lr(this,(function(n){switch(n.label){case 0:return t.audience=t.audience||this.options.audience,t.scope=gl(this.defaultScope,this.scope,t.scope),e=Wr(Wr({},Ps),e),[4,this.loginWithPopup(t,e)];case 1:return n.sent(),[2,this.cache.get({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}).access_token]}}))}))},t.prototype.isAuthenticated=function(){return Ar(this,void 0,void 0,(function(){return Lr(this,(function(t){switch(t.label){case 0:return[4,this.getUser()];case 1:return[2,!!t.sent()]}}))}))},t.prototype.logout=function(t){void 0===t&&(t={}),null!==t.client_id?t.client_id=t.client_id||this.options.client_id:delete t.client_id;var e=t.federated,n=t.localOnly,i=Qr(t,["federated","localOnly"]);if(n&&e)throw new Error("It is invalid to set both the `federated` and `localOnly` options to `true`");if(this.cache.clear(),this.cookieStorage.remove("auth0.is.authenticated"),!n){var r=e?"&federated":"",o=this._url("/v2/logout?"+il(i));window.location.assign(""+o+r)}},t.prototype._getTokenFromIFrame=function(t){return Ar(this,void 0,void 0,(function(){var e,n,i,r,o,c,a,s,l,u,d,g,f,m;return Lr(this,(function(h){switch(h.label){case 0:return e=nl(el()),n=nl(el()),i=el(),[4,rl(i)];case 1:return r=h.sent(),o=cl(r),c=this._getParams(t,e,n,o,t.redirect_uri||this.options.redirect_uri||window.location.origin),a=this._authorizeUrl(Wr(Wr({},c),{prompt:"none",response_mode:"web_message"})),s=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,[4,qs(a,this.domainUrl,s)];case 2:if(l=h.sent(),e!==l.state)throw new Error("Invalid state");return u=t.scope,d=t.audience,t.redirect_uri,t.ignoreCache,t.timeoutInSeconds,g=Qr(t,["scope","audience","redirect_uri","ignoreCache","timeoutInSeconds"]),[4,ul(Wr(Wr(Wr({},this.customOptions),g),{scope:u,audience:d,baseUrl:this.domainUrl,client_id:this.options.client_id,code_verifier:i,code:l.code,grant_type:"authorization_code",redirect_uri:c.redirect_uri}),this.worker)];case 3:return f=h.sent(),m=this._verifyIdToken(f.id_token,n),[2,Wr(Wr({},f),{decodedToken:m,scope:c.scope,audience:c.audience||"default"})]}}))}))},t.prototype._getTokenUsingRefreshToken=function(t){return Ar(this,void 0,void 0,(function(){var e,n,i,r,o,c,a,s;return Lr(this,(function(l){switch(l.label){case 0:return t.scope=gl(this.defaultScope,this.options.scope,t.scope),(e=this.cache.get({scope:t.scope,audience:t.audience||"default",client_id:this.options.client_id}))&&e.refresh_token||this.worker?[3,2]:[4,this._getTokenFromIFrame(t)];case 1:return[2,l.sent()];case 2:n=t.redirect_uri||this.options.redirect_uri||window.location.origin,r=t.scope,o=t.audience,t.ignoreCache,t.timeoutInSeconds,c=Qr(t,["scope","audience","ignoreCache","timeoutInSeconds"]),l.label=3;case 3:return l.trys.push([3,5,,8]),[4,ul(Wr(Wr(Wr({},this.customOptions),c),{audience:o,scope:r,baseUrl:this.domainUrl,client_id:this.options.client_id,grant_type:"refresh_token",refresh_token:e&&e.refresh_token,redirect_uri:n}),this.worker)];case 4:return i=l.sent(),[3,8];case 5:return"The web worker is missing the refresh token"!==(a=l.sent()).message?[3,7]:[4,this._getTokenFromIFrame(t)];case 6:return[2,l.sent()];case 7:throw a;case 8:return s=this._verifyIdToken(i.id_token),[2,Wr(Wr({},i),{decodedToken:s,scope:t.scope,audience:t.audience||"default"})]}}))}))},t}();function Wl(t){return Ar(this,void 0,void 0,(function(){var e;return Lr(this,(function(n){switch(n.label){case 0:return[4,(e=new xl(t)).checkSession()];case 1:return n.sent(),[2,e]}}))}))}const Ql={audience:"https://dev--6ae8bxi.us.auth0.com/api/v2/",domain:"dev--6ae8bxi.us.auth0.com",client_id:"8HLyUXSJGw5b41nhoU52eUhP79L2x9O5",cacheLocation:"localstorage"};Un.interceptors.request.use(async t=>{const e=await Wl(Ql),n=await e.getTokenSilently();return t.headers.Authorization="Bearer "+n,t});const Al=It();function Ll(t,e,n){const i=t.slice();return i[21]=e[n],i}function Hl(t){let e,n,i,r,o,c,a,s,l=t[0],u=[];for(let e=0;e<l.length;e+=1)u[e]=Nl(Ll(t,l,e));const d=t=>rt(u[t],1,1,()=>{u[t]=null});return{c(){e=F("button"),e.textContent="Add Lunch Week",n=V(),i=F("table"),r=F("thead"),r.innerHTML="<tr><th>Week Of</th> \n          <th>Published</th> \n          <th></th></tr>",o=V();for(let t=0;t<u.length;t+=1)u[t].c();w(e,"class","button is-text is-small mb-1"),w(i,"class","table")},m(l,d){y(l,e,d),y(l,n,d),y(l,i,d),p(i,r),p(i,o);for(let t=0;t<u.length;t+=1)u[t].m(i,null);c=!0,a||(s=Z(e,"click",t[12]),a=!0)},p(t,e){if(1537&e){let n;for(l=t[0],n=0;n<l.length;n+=1){const r=Ll(t,l,n);u[n]?(u[n].p(r,e),it(u[n],1)):(u[n]=Nl(r),u[n].c(),it(u[n],1),u[n].m(i,null))}for(et(),n=l.length;n<u.length;n+=1)d(n);nt()}},i(t){if(!c){for(let t=0;t<l.length;t+=1)it(u[t]);c=!0}},o(t){u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)rt(u[t]);c=!1},d(t){t&&B(e),t&&B(n),t&&B(i),C(u,t),a=!1,s()}}}function Jl(e){let n,i;const r=new Dn({props:{spin:!0,data:Mn,scale:"3"}});return{c(){n=F("div"),st(r.$$.fragment),w(n,"class","section")},m(t,e){y(t,n,e),lt(r,n,null),i=!0},p:t,i(t){i||(it(r.$$.fragment,t),i=!0)},o(t){rt(r.$$.fragment,t),i=!1},d(t){t&&B(n),ut(r)}}}function Nl(t){let e,n,i,r,c,a,s,l,u,d,g,f,m=t[21].weekOf+"",h=t[21].isPublished+"";function I(...e){return t[13](t[21],...e)}const b=new Dn({props:{style:"margin-top: 4px;",data:On}});function C(...e){return t[14](t[21],...e)}return{c(){e=F("tr"),n=F("td"),i=v(m),r=V(),c=F("td"),a=v(h),s=V(),l=F("td"),st(b.$$.fragment),u=V(),w(n,"class","has-text-link clickable svelte-1hbb9tz"),w(l,"class","has-text-grey-light clickable svelte-1hbb9tz")},m(t,o){y(t,e,o),p(e,n),p(n,i),p(e,r),p(e,c),p(c,a),p(e,s),p(e,l),lt(b,l,null),p(e,u),d=!0,g||(f=[Z(n,"click",I),Z(l,"click",C)],g=!0)},p(e,n){t=e,(!d||1&n)&&m!==(m=t[21].weekOf+"")&&G(i,m),(!d||1&n)&&h!==(h=t[21].isPublished+"")&&G(a,h)},i(t){d||(it(b.$$.fragment,t),d=!0)},o(t){rt(b.$$.fragment,t),d=!1},d(t){t&&B(e),ut(b),g=!1,o(f)}}}function kl(t){let e,n,i,r,a,s,l,u,d,g,f,m,h,I,b,C,U,S,X,x,W,Q,A,L,H,J,N,k,Y,E,T,K,P,z,D,O,M,j,q,_,$,tt,ot,ct,at,st,lt,ut,dt,gt,ft,mt,ht,It,bt,pt,yt,Bt,Ct=t[6].schoolName+"",Ft=t[5].weekOf+"";const Ut=[Jl,Hl],vt=[];function Vt(t,e){return t[1]?0:1}return m=Vt(t),h=vt[m]=Ut[m](t),{c(){e=F("div"),n=F("nav"),i=F("ul"),r=F("li"),r.innerHTML='<a href="/">Home</a>',a=V(),s=F("li"),s.innerHTML='<a href="/admin/manage-menus">Lunch Menu Administration</a>',l=V(),u=F("li"),d=F("a"),g=v(Ct),f=V(),h.c(),I=V(),b=F("div"),C=F("div"),U=V(),S=F("div"),X=F("header"),x=F("p"),x.textContent="Warning",W=V(),Q=F("button"),A=V(),L=F("section"),H=v("Delete Week of "),J=v(Ft),N=v("?"),k=V(),Y=F("footer"),E=F("button"),E.textContent="Continue",T=V(),K=F("button"),K.textContent="Cancel",z=V(),D=F("div"),O=F("div"),M=V(),j=F("div"),q=F("header"),_=F("p"),_.textContent="Create Lunch Week",$=V(),tt=F("button"),ot=V(),ct=F("section"),at=F("div"),st=F("label"),st.textContent="Week Of",lt=V(),ut=F("div"),dt=F("input"),gt=V(),ft=F("footer"),mt=F("button"),mt.textContent="Continue",ht=V(),It=F("button"),It.textContent="Cancel",w(d,"href","/#"),w(u,"class","is-active"),w(n,"class","breadcrumb"),w(n,"aria-label","breadcrumbs"),w(C,"class","modal-background"),w(x,"class","modal-card-title"),w(Q,"class","delete"),w(Q,"aria-label","close"),w(X,"class","modal-card-head"),w(L,"class","modal-card-body"),w(E,"class","button is-success"),w(K,"class","button"),w(Y,"class","modal-card-foot"),w(S,"class","modal-card"),w(b,"class",P=t[2]?"modal is-active":"modal"),w(O,"class","modal-background"),w(_,"class","modal-card-title"),w(tt,"class","delete"),w(tt,"aria-label","close"),w(q,"class","modal-card-head"),w(st,"class","label"),w(dt,"type","date"),w(dt,"class","input"),w(dt,"placeholder","yyyy-mm-dd"),w(ut,"class","control"),w(at,"class","field"),w(ct,"class","modal-card-body"),w(mt,"class","button is-success"),w(It,"class","button"),w(ft,"class","modal-card-foot"),w(j,"class","modal-card"),w(D,"class",bt=t[3]?"modal is-active":"modal")},m(o,h){y(o,e,h),p(e,n),p(n,i),p(i,r),p(i,a),p(i,s),p(i,l),p(i,u),p(u,d),p(d,g),p(e,f),vt[m].m(e,null),y(o,I,h),y(o,b,h),p(b,C),p(b,U),p(b,S),p(S,X),p(X,x),p(X,W),p(X,Q),p(S,A),p(S,L),p(L,H),p(L,J),p(L,N),p(S,k),p(S,Y),p(Y,E),p(Y,T),p(Y,K),y(o,z,h),y(o,D,h),p(D,O),p(D,M),p(D,j),p(j,q),p(q,_),p(q,$),p(q,tt),p(j,ot),p(j,ct),p(ct,at),p(at,st),p(at,lt),p(at,ut),p(ut,dt),R(dt,t[4]),p(j,gt),p(j,ft),p(ft,mt),p(ft,ht),p(ft,It),pt=!0,yt||(Bt=[Z(Q,"click",t[15]),Z(E,"click",(function(){c(t[11](t[5]))&&t[11](t[5]).apply(this,arguments)})),Z(K,"click",t[16]),Z(tt,"click",t[17]),Z(dt,"input",t[18]),Z(mt,"click",t[19]),Z(It,"click",t[20])],yt=!0)},p(n,[i]){t=n,(!pt||64&i)&&Ct!==(Ct=t[6].schoolName+"")&&G(g,Ct);let r=m;m=Vt(t),m===r?vt[m].p(t,i):(et(),rt(vt[r],1,1,()=>{vt[r]=null}),nt(),h=vt[m],h||(h=vt[m]=Ut[m](t),h.c()),it(h,1),h.m(e,null)),(!pt||32&i)&&Ft!==(Ft=t[5].weekOf+"")&&G(J,Ft),(!pt||4&i&&P!==(P=t[2]?"modal is-active":"modal"))&&w(b,"class",P),16&i&&R(dt,t[4]),(!pt||8&i&&bt!==(bt=t[3]?"modal is-active":"modal"))&&w(D,"class",bt)},i(t){pt||(it(h),pt=!0)},o(t){rt(h),pt=!1},d(t){t&&B(e),vt[m].d(),t&&B(I),t&&B(b),t&&B(z),t&&B(D),yt=!1,o(Bt)}}}function Yl(t,e,n){let i;l(t,Al,t=>n(6,i=t));let r=[],o=!0,c=!1,a=!1,s=null,u={};N(async()=>{try{const t=await Un.get("/api/lunch-week");n(0,r=t.data),n(1,o=!1)}catch(t){console.error(t)}});const d=()=>{n(3,a=!0)},g=async()=>{n(3,a=!1);let t={weekOf:s,isPublished:!1};try{n(1,o=!0);const e=(await Un.post("/api/lunch-week",t)).data.lunchWeekId;t.lunchWeekId=e,r.push(t),n(1,o=!1)}catch(t){n(1,o=!1),console.error(t)}},f=t=>{const e="/admin/manage-menus/week-details/"+t.lunchWeekId;xe(e)},m=t=>{n(5,u=t),n(2,c=!0)};return[r,o,c,a,s,u,i,d,g,f,m,async t=>{n(2,c=!1);const e=t.lunchWeekId;try{n(1,o=!0),await Un.delete("/api/lunch-week/"+e);const t=r.findIndex(t=>t.lunchWeekId===e);r.splice(t,1),n(1,o=!1)}catch(t){n(1,o=!1),console.error(t)}},()=>d(),t=>f(t),t=>m(t),()=>n(2,c=!1),()=>n(2,c=!1),()=>n(3,a=!1),function(){s=this.value,n(4,s)},()=>g(),()=>n(3,a=!1)]}function El(t,e,n){const i=t.slice();return i[14]=e[n],i[15]=e,i[16]=n,i}function Tl(e){let n,i,r,c,a,s,l,u,d,g,f,m,h,I,b,U,S,X,R,x,W,Q,A,L,H,J,N,k=e[0].isPublished?"Unpublish":"Publish",Y=e[5]()+"",E=e[0].lunchDays,T=[];for(let t=0;t<E.length;t+=1)T[t]=Pl(El(e,E,t));return{c(){n=F("section"),i=F("div"),r=F("button"),c=v("Save"),s=V(),l=F("button"),u=v(k),g=V(),f=F("div"),m=F("div"),m.innerHTML='<button class="button is-text is-small">Link</button>',h=V(),I=F("div"),b=F("div"),U=F("div"),S=F("p"),S.textContent="Public Lunch Menu Link",X=V(),R=F("p"),x=F("a"),W=v(Y),A=V(),L=F("section"),H=F("div");for(let t=0;t<T.length;t+=1)T[t].c();w(r,"class",a=e[2]?"button is-link is-small is-loading":"button is-link is-small"),w(l,"class",d=e[3]?"button is-text is-small is-loading":"button is-text is-small"),w(m,"class","dropdown-trigger"),w(x,"href",Q=e[5]()),w(x,"target","_blank"),w(R,"class","mt-2"),w(U,"class","dropdown-item"),w(b,"class","dropdown-content"),w(I,"class","dropdown-menu svelte-1pvacmh"),w(I,"id","link-dropdown-menu"),w(f,"class","dropdown is-hoverable"),w(i,"class","buttons"),w(H,"class","columns"),w(L,"class","mt-2")},m(t,o){y(t,n,o),p(n,i),p(i,r),p(r,c),p(i,s),p(i,l),p(l,u),p(i,g),p(i,f),p(f,m),p(f,h),p(f,I),p(I,b),p(b,U),p(U,S),p(U,X),p(U,R),p(R,x),p(x,W),y(t,A,o),y(t,L,o),p(L,H);for(let t=0;t<T.length;t+=1)T[t].m(H,null);J||(N=[Z(r,"click",e[9]),Z(l,"click",e[10])],J=!0)},p(t,e){if(4&e&&a!==(a=t[2]?"button is-link is-small is-loading":"button is-link is-small")&&w(r,"class",a),1&e&&k!==(k=t[0].isPublished?"Unpublish":"Publish")&&G(u,k),8&e&&d!==(d=t[3]?"button is-text is-small is-loading":"button is-text is-small")&&w(l,"class",d),1&e){let n;for(E=t[0].lunchDays,n=0;n<E.length;n+=1){const i=El(t,E,n);T[n]?T[n].p(i,e):(T[n]=Pl(i),T[n].c(),T[n].m(H,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}},i:t,o:t,d(t){t&&B(n),t&&B(A),t&&B(L),C(T,t),J=!1,o(N)}}}function Kl(e){let n,i;const r=new Dn({props:{spin:!0,data:Mn,scale:"3"}});return{c(){n=F("div"),st(r.$$.fragment),w(n,"class","section")},m(t,e){y(t,n,e),lt(r,n,null),i=!0},p:t,i(t){i||(it(r.$$.fragment,t),i=!0)},o(t){rt(r.$$.fragment,t),i=!1},d(t){t&&B(n),ut(r)}}}function Pl(t){let e,n,i,r,o,c,a,s,l,u,d=lr(hr(t[14].day),"EEE MM/dd/yyyy")+"";function g(){t[11].call(a,t[15],t[16])}return{c(){e=F("div"),n=F("div"),i=F("label"),r=v(d),o=V(),c=F("div"),a=F("textarea"),s=V(),w(i,"class","label"),w(a,"class","textarea"),w(a,"rows","10"),w(c,"class","control"),w(n,"class","field"),w(e,"class","column")},m(d,f){y(d,e,f),p(e,n),p(n,i),p(i,r),p(n,o),p(n,c),p(c,a),R(a,t[14].menuDetails),p(e,s),l||(u=Z(a,"input",g),l=!0)},p(e,n){t=e,1&n&&d!==(d=lr(hr(t[14].day),"EEE MM/dd/yyyy")+"")&&G(r,d),1&n&&R(a,t[14].menuDetails)},d(t){t&&B(e),l=!1,u()}}}function zl(t){let e,n,i,r,o,c,a,s,l,u,d,g,f,m,h=t[4].schoolName+"";const I=[Kl,Tl],b=[];function C(t,e){return t[1]?0:1}return g=C(t),f=b[g]=I[g](t),{c(){e=F("div"),n=F("nav"),i=F("ul"),r=F("li"),r.innerHTML='<a href="/">Home</a>',o=V(),c=F("li"),c.innerHTML='<a href="/admin/manage-menus">Lunch Menu Administration</a>',a=V(),s=F("li"),l=F("a"),u=v(h),d=V(),f.c(),w(l,"href","/#"),w(s,"class","is-active"),w(n,"class","breadcrumb"),w(n,"aria-label","breadcrumbs")},m(t,f){y(t,e,f),p(e,n),p(n,i),p(i,r),p(i,o),p(i,c),p(i,a),p(i,s),p(s,l),p(l,u),p(e,d),b[g].m(e,null),m=!0},p(t,[n]){(!m||16&n)&&h!==(h=t[4].schoolName+"")&&G(u,h);let i=g;g=C(t),g===i?b[g].p(t,n):(et(),rt(b[i],1,1,()=>{b[i]=null}),nt(),f=b[g],f||(f=b[g]=I[g](t),f.c()),it(f,1),f.m(e,null))},i(t){m||(it(f),m=!0)},o(t){rt(f),m=!1},d(t){t&&B(e),b[g].d()}}}function Dl(t,e,n){let i;l(t,Al,t=>n(4,i=t));let{currentRoute:r}=e,o=r.namedParams.lunchWeekId,c={},a=!0,s=!1,u=!1;N(async()=>{try{const t=await Un.get("/api/lunch-week/"+o);n(0,c=t.data),d(),n(1,a=!1)}catch(t){console.error(t)}});const d=()=>{const t=hr(c.weekOf);for(let e=0;e<5;e++){const n=lr(di(t,{days:e}),"yyyy-MM-dd");if(c.lunchDays.some(t=>t.day===n))continue;const i={day:n,lunchWeekId:c.lunchWeekId,menuDetails:null};c.lunchDays.splice(e,0,i)}},g=async()=>{n(2,s=!0);for(let t=0;t<c.lunchDays.length;t++){const e=c.lunchDays[t];if(e.lunchDayId)await Un.put(`/api/lunch-week/${o}/lunch-day/${e.lunchDayId}`,e);else{const t=await Un.post(`/api/lunch-week/${o}/lunch-day`,e);e.lunchDayId=t.data.lunchDayId}}n(2,s=!1)},f=async()=>{n(3,u=!0);let t=JSON.parse(JSON.stringify(c));t.isPublished=!t.isPublished,delete t.lunchDays,await Un.put("/api/lunch-week/"+o,t),n(0,c.isPublished=!c.isPublished,c),n(3,u=!1)};return t.$set=t=>{"currentRoute"in t&&n(8,r=t.currentRoute)},[c,a,s,u,i,()=>{const t=i.schoolName.toLowerCase().replace(/ /g,"-");return`${window.location.origin}/lunch-menu/${t}/${c.weekOf}`},g,f,r,()=>g(),()=>f(),function(t,e){t[e].menuDetails=this.value,n(0,c)}]}function Ol(t){let e,n,i,r,o;const c=new We({props:{currentRoute:t[0]}});return{c(){e=F("button"),e.textContent="Logout",n=V(),st(c.$$.fragment),w(e,"class","button is-light is-small"),x(e,"float","right")},m(a,s){y(a,e,s),y(a,n,s),lt(c,a,s),i=!0,r||(o=Z(e,"click",t[3]),r=!0)},p(t,e){const n={};1&e&&(n.currentRoute=t[0]),c.$set(n)},i(t){i||(it(c.$$.fragment,t),i=!0)},o(t){rt(c.$$.fragment,t),i=!1},d(t){t&&B(e),t&&B(n),ut(c,t),r=!1,o()}}}function Ml(t){let e,n,i=t[1]&&Ol(t);return{c(){e=F("div"),i&&i.c()},m(t,r){y(t,e,r),i&&i.m(e,null),n=!0},p(t,[n]){t[1]?i?(i.p(t,n),2&n&&it(i,1)):(i=Ol(t),i.c(),it(i,1),i.m(e,null)):i&&(et(),rt(i,1,1,()=>{i=null}),nt())},i(t){n||(it(i),n=!0)},o(t){rt(i),n=!1},d(t){t&&B(e),i&&i.d()}}}function jl(t,e,n){let i,{currentRoute:r}=e,o=!1;const c=async()=>{window.localStorage.removeItem("access_token"),i.logout({returnTo:window.location.origin})};N(async()=>{i=await Wl(Ql);if(await i.isAuthenticated()){const t=await i.getTokenSilently();window.localStorage.setItem("access_token",t);const e=(t=>{var e=t.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(e).split("").map((function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(n)})(t);Al.set({schoolName:e["https://school-lunch/school_name"]}),n(1,o=!0)}else await i.loginWithRedirect({redirect_uri:window.location.origin+"/callback",appState:window.location.pathname})});return t.$set=t=>{"currentRoute"in t&&n(0,r=t.currentRoute)},[r,o,c,()=>c()]}function ql(e){let n;return{c(){n=F("h1"),n.textContent="Redirecting...Please wait"},m(t,e){y(t,n,e)},p:t,i:t,o:t,d(t){t&&B(n)}}}function _l(t){return N(async()=>{const t=await Wl(Ql),e=(await t.handleRedirectCallback()).appState,n=await t.getTokenSilently();window.localStorage.setItem("access_token",n),e&&(window.history.replaceState(null,null,e),window.location.reload())}),[]}const $l=[{name:"/",component:class extends ft{constructor(t){super(),gt(this,t,oi,ri,a,{})}}},{name:"/lunch-menu/:school/:weekOf",component:class extends ft{constructor(t){super(),gt(this,t,Gr,Xr,a,{currentRoute:0})}}},{name:"/callback",component:class extends ft{constructor(t){super(),gt(this,t,_l,ql,a,{})}}},{name:"/admin/manage-menus",component:class extends ft{constructor(t){super(),gt(this,t,jl,Ml,a,{currentRoute:0})}},nestedRoutes:[{name:"index",component:class extends ft{constructor(t){super(),gt(this,t,Yl,kl,a,{})}}},{name:"week-details/:lunchWeekId",component:class extends ft{constructor(t){super(),gt(this,t,Dl,zl,a,{currentRoute:8})}}}]}];function tu(e){let n,i,r,o;const c=new Qe({props:{routes:$l}});return{c(){n=F("main"),i=F("section"),r=F("div"),st(c.$$.fragment),w(r,"class","container"),w(i,"class","section")},m(t,e){y(t,n,e),p(n,i),p(i,r),lt(c,r,null),o=!0},p:t,i(t){o||(it(c.$$.fragment,t),o=!0)},o(t){rt(c.$$.fragment,t),o=!1},d(t){t&&B(n),ut(c)}}}return new class extends ft{constructor(t){super(),gt(this,t,null,tu,a,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
